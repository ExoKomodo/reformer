<!DOCTYPE html>
<html><!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- UIOP is a part of https://common-lisp.net/project/asdf/ (ASDF),
which is released under an MIT style License:

Copyright © 2001-2019 Daniel Barlow and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy of
  this software and associated documentation files (the "Software"), to deal in
  the Software without restriction, including without limitation the rights to
  use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
  the Software, and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->
<title>UIOP Manual</title>

<meta name="description" content="UIOP Manual">
<meta name="keywords" content="UIOP Manual">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="#Introduction" rel="next" title="Introduction">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
ul.toc-numbered-mark {list-style: none}
-->
</style>


</head>

<body lang="en">







<div class="top-level-extent" id="Top">
<div class="nav-panel">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h1 class="top" id="UIOP"><span>UIOP<a class="copiable-link" href="#UIOP"> ¶</a></span></h1>

<p>UIOP is a part of <a class="uref" href="https://common-lisp.net/project/asdf/">ASDF</a>,
which is released under an MIT style License:
</p>
<blockquote class="quotation">
<p>Copyright © 2001-2019 Daniel Barlow and contributors.
</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of
  this software and associated documentation files (the "Software"), to deal in
  the Software without restriction, including without limitation the rights to
  use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
  the Software, and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:
</p>
<p>The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</p></blockquote>



<div class="element-contents" id="SEC_Contents">
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="toc-numbered-mark">
  <li><a id="toc-Introduction-1" href="#Introduction">1 Introduction</a></li>
  <li><a id="toc-UIOP_002fPACKAGE-1" href="#UIOP_002fPACKAGE">2 UIOP/PACKAGE</a></li>
  <li><a id="toc-UIOP_002fCOMMON_002dLISP-1" href="#UIOP_002fCOMMON_002dLISP">3 UIOP/COMMON-LISP</a></li>
  <li><a id="toc-UIOP_002fUTILITY-1" href="#UIOP_002fUTILITY">4 UIOP/UTILITY</a></li>
  <li><a id="toc-UIOP_002fVERSION-1" href="#UIOP_002fVERSION">5 UIOP/VERSION</a></li>
  <li><a id="toc-UIOP_002fOS-1" href="#UIOP_002fOS">6 UIOP/OS</a></li>
  <li><a id="toc-UIOP_002fPATHNAME-1" href="#UIOP_002fPATHNAME">7 UIOP/PATHNAME</a></li>
  <li><a id="toc-UIOP_002fFILESYSTEM-1" href="#UIOP_002fFILESYSTEM">8 UIOP/FILESYSTEM</a></li>
  <li><a id="toc-UIOP_002fSTREAM-1" href="#UIOP_002fSTREAM">9 UIOP/STREAM</a></li>
  <li><a id="toc-UIOP_002fIMAGE-1" href="#UIOP_002fIMAGE">10 UIOP/IMAGE</a></li>
  <li><a id="toc-UIOP_002fLISP_002dBUILD-1" href="#UIOP_002fLISP_002dBUILD">11 UIOP/LISP-BUILD</a></li>
  <li><a id="toc-UIOP_002fLAUNCH_002dPROGRAM-1" href="#UIOP_002fLAUNCH_002dPROGRAM">12 UIOP/LAUNCH-PROGRAM</a></li>
  <li><a id="toc-UIOP_002fRUN_002dPROGRAM-1" href="#UIOP_002fRUN_002dPROGRAM">13 UIOP/RUN-PROGRAM</a></li>
  <li><a id="toc-UIOP_002fCONFIGURATION-1" href="#UIOP_002fCONFIGURATION">14 UIOP/CONFIGURATION</a></li>
  <li><a id="toc-UIOP_002fBACKWARD_002dDRIVER-1" href="#UIOP_002fBACKWARD_002dDRIVER">15 UIOP/BACKWARD-DRIVER</a></li>
  <li><a id="toc-UIOP_002fDRIVER-1" href="#UIOP_002fDRIVER">16 UIOP/DRIVER</a></li>
</ul>
</div>
</div>
<hr>
<div class="chapter-level-extent" id="Introduction">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fPACKAGE" accesskey="n" rel="next">UIOP/PACKAGE</a>, Previous: <a href="#Top" accesskey="p" rel="prev">UIOP</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="Introduction-1"><span>1 Introduction<a class="copiable-link" href="#Introduction-1"> ¶</a></span></h2>

<p>UIOP is the portability layer of ASDF. It provides utilities that
abstract over discrepancies between implementations, between operating
systems, and between what the standard provides and what programmers
actually need, to write portable Common Lisp programs.
</p>
<p>It is organized by topic in many files, each of which defines its own package
according to its topic: e.g <samp class="file">pathname.lisp</samp>
will define package <code class="code">uiop/pathname</code> and contain utilities related to
the handling of pathname objects.
All exported symbols are reexported in a convenience package <code class="code">uiop</code>,
except for those from <code class="code">uiop/common-lisp</code>.
We recommend package <code class="code">uiop</code> be used to access all the symbols.
</p>
<p>The following API reference is auto-generated from the docstrings in
the code. The chapters are arranged in dependency order.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fPACKAGE">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fCOMMON_002dLISP" accesskey="n" rel="next">UIOP/COMMON-LISP</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fPACKAGE-1"><span>2 UIOP/PACKAGE<a class="copiable-link" href="#UIOP_002fPACKAGE-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fpackage_003afind_002dpackage_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-find_002dpackage_002a"><span class="category-def">Function: </span><span><strong class="def-name">find-package*</strong> <var class="def-var-arguments">package-designator &amp;optional  errorp</var><a class="copiable-link" href="#index-find_002dpackage_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpackage_003afind_002dpackage_002a"></a>
<p>Like <code class="code">cl:find-package</code>, but by default raises a <code class="code">uiop:no-such-package-error</code> if the
  package is not found.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpackage_003afind_002dsymbol_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-find_002dsymbol_002a"><span class="category-def">Function: </span><span><strong class="def-name">find-symbol*</strong> <var class="def-var-arguments">name package-designator &amp;optional  error</var><a class="copiable-link" href="#index-find_002dsymbol_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpackage_003afind_002dsymbol_002a"></a>
<p>Find a symbol in a package of given string’ified <code class="code">name</code>;
unlike <code class="code">cl:find-symbol</code>, work well with ’modern’ case sensitive syntax
by letting you supply a symbol or keyword for the name;
also works well when the package is not present.
If optional <code class="code">error</code> argument is <code class="code">nil</code>, return <code class="code">nil</code> instead of an error
when the symbol is not found.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpackage_003arehome_002dsymbol"></a><dl class="first-deffn">
<dt class="deffn" id="index-rehome_002dsymbol"><span class="category-def">Function: </span><span><strong class="def-name">rehome-symbol</strong> <var class="def-var-arguments">symbol package-designator</var><a class="copiable-link" href="#index-rehome_002dsymbol"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpackage_003arehome_002dsymbol"></a>
<p>Changes the home package of a symbol, also leaving it present in its old home if any
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpackage_003asymbol_002dcall"></a><dl class="first-deffn">
<dt class="deffn" id="index-symbol_002dcall"><span class="category-def">Function: </span><span><strong class="def-name">symbol-call</strong> <var class="def-var-arguments">package name &amp;rest  args</var><a class="copiable-link" href="#index-symbol_002dcall"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpackage_003asymbol_002dcall"></a>
<p>Call a function associated with symbol of given name in given package,
with given <code class="code">args</code>. Useful when the call is read before the package is loaded,
or when loading the package is optional.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fpackage_003adefine_002dpackage"></a><dl class="first-deffn">
<dt class="deffn" id="index-define_002dpackage"><span class="category-def">Macro: </span><span><strong class="def-name">define-package</strong> <var class="def-var-arguments">package &amp;rest  clauses</var><a class="copiable-link" href="#index-define_002dpackage"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpackage_003adefine_002dpackage"></a>
<p><code class="code">define-package</code> takes a <code class="code">package</code> and a number of <code class="code">clauses</code>, of the form
(<code class="code">keyword</code> . <code class="code">args</code>).
<code class="code">define-package</code> supports the following keywords:
<code class="code">shadow</code>, <code class="code">shadowing-import-from</code>, <code class="code">import-from</code>, <code class="code">export</code>, <code class="code">intern</code>, <code class="code">nicknames</code>,
<code class="code">documentation</code> <code class="code">--</code> as per <code class="code">cl:defpackage</code>.
<code class="code">use</code> <code class="code">--</code> as per <code class="code">cl:defpackage</code>, but if neither <code class="code">use</code>, <code class="code">use-reexport</code>, <code class="code">mix</code>,
nor <code class="code">mix-reexport</code> is supplied, then it is equivalent to specifying
(<code class="code">:use</code> <code class="code">:common-lisp</code>). This is unlike <code class="code">cl:defpackage</code> for which the
behavior of a form without <code class="code">use</code> is implementation-dependent.
<code class="code">recycle</code> <code class="code">--</code> Recycle the package’s exported symbols from the specified packages,
in order.  For every symbol scheduled to be exported by the <code class="code">define-package</code>,
either through an <code class="code">:export</code> option or a <code class="code">:reexport</code> option, if the symbol exists in
one of the <code class="code">:recycle</code> packages, the first such symbol is re-homed to the package
being defined.
For the sake of idempotence, it is important that the package being defined
should appear in first position if it already exists, and even if it doesn’t,
ahead of any package that is not going to be deleted afterwards and never
created again. In short, except for special cases, always make it the first
package on the list if the list is not empty.
<code class="code">mix</code> <code class="code">--</code> Takes a list of package designators.  <code class="code">mix</code> behaves like
(<code class="code">:use</code> <code class="code">pkg1</code> <code class="code">pkg2</code> ... PKGn) but additionally uses <code class="code">:shadowing-import-from</code> to
resolve conflicts in favor of the first found symbol.  It may still yield
an error if there is a conflict with an explicitly <code class="code">:import-from</code> symbol.
<code class="code">reexport</code> <code class="code">--</code> Takes a list of package designators.  For each package, p, in the list,
export symbols with the same name as those exported from p.  Note that in the case
of shadowing, etc. the symbols with the same name may not be the same symbols.
<code class="code">unintern</code> <code class="code">--</code> Remove symbols here from <code class="code">package</code>. Note that this is primarily useful
when *redefining* a previously-existing package in the current image (e.g., when
upgrading ASDF).  Most programmers will have no use for this option.
<code class="code">local-nicknames</code> <code class="code">--</code> If the host implementation supports package local nicknames
(check for the <code class="code">:package-local-nicknames</code> feature), then this should be a list of
nickname and package name pairs.  Using this option will cause an error if the
host CL implementation does not support it.
<code class="code">use-reexport</code>, <code class="code">mix-reexport</code> <code class="code">--</code> Use or mix the specified packages as per the <code class="code">use</code> or
<code class="code">mix</code> directives, and reexport their contents as per the <code class="code">reexport</code> directive.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fCOMMON_002dLISP">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fUTILITY" accesskey="n" rel="next">UIOP/UTILITY</a>, Previous: <a href="#UIOP_002fPACKAGE" accesskey="p" rel="prev">UIOP/PACKAGE</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fCOMMON_002dLISP-1"><span>3 UIOP/COMMON-LISP<a class="copiable-link" href="#UIOP_002fCOMMON_002dLISP-1"> ¶</a></span></h2>

<p><code class="code">uiop/common-lisp</code> lets you paper over various sub-standard
implementations.
</p>
<p>This package reexports all the symbols in <code class="code">common-lisp</code> package.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fUTILITY">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fVERSION" accesskey="n" rel="next">UIOP/VERSION</a>, Previous: <a href="#UIOP_002fCOMMON_002dLISP" accesskey="p" rel="prev">UIOP/COMMON-LISP</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fUTILITY-1"><span>4 UIOP/UTILITY<a class="copiable-link" href="#UIOP_002fUTILITY-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002futility_003aaccess_002dat_002dcount"></a><dl class="first-deffn">
<dt class="deffn" id="index-access_002dat_002dcount"><span class="category-def">Function: </span><span><strong class="def-name">access-at-count</strong> <var class="def-var-arguments">at</var><a class="copiable-link" href="#index-access_002dat_002dcount"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aaccess_002dat_002dcount"></a>
<p>From an <code class="code">at</code> specification, extract a <code class="code">count</code> of maximum number
of sub-objects to read as per <code class="code">access-at</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aaccess_002dat"></a><dl class="first-deffn">
<dt class="deffn" id="index-access_002dat"><span class="category-def">Function: </span><span><strong class="def-name">access-at</strong> <var class="def-var-arguments">object at</var><a class="copiable-link" href="#index-access_002dat"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aaccess_002dat"></a>
<p>Given an <code class="code">object</code> and an <code class="code">at</code> specifier, list of successive accessors,
call each accessor on the result of the previous calls.
An accessor may be an integer, meaning a call to <code class="code">elt</code>,
a keyword, meaning a call to <code class="code">getf</code>,
<code class="code">nil</code>, meaning identity,
a function or other symbol, meaning itself,
or a list of a function designator and arguments, interpreted as per <code class="code">ensure-function</code>.
As a degenerate case, the <code class="code">at</code> specifier may be an atom of a single such accessor
instead of a list.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003abase_002dstring_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-base_002dstring_002dp"><span class="category-def">Function: </span><span><strong class="def-name">base-string-p</strong> <var class="def-var-arguments">string</var><a class="copiable-link" href="#index-base_002dstring_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003abase_002dstring_002dp"></a>
<p>Does the <code class="code">string</code> only contain BASE-CHARs?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aboolean_002dto_002dfeature_002dexpression"></a><dl class="first-deffn">
<dt class="deffn" id="index-boolean_002dto_002dfeature_002dexpression"><span class="category-def">Function: </span><span><strong class="def-name">boolean-to-feature-expression</strong> <var class="def-var-arguments">value</var><a class="copiable-link" href="#index-boolean_002dto_002dfeature_002dexpression"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aboolean_002dto_002dfeature_002dexpression"></a>
<p>Converts a boolean <code class="code">value</code> to a form suitable for testing with <code class="code">#+</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003acall_002dfunction"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dfunction"><span class="category-def">Function: </span><span><strong class="def-name">call-function</strong> <var class="def-var-arguments">function-spec &amp;rest  arguments</var><a class="copiable-link" href="#index-call_002dfunction"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003acall_002dfunction"></a>
<p>Call the function designated by <code class="code">function-spec</code> as per <code class="code">ensure-function</code>,
with the given <code class="code">arguments</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003acall_002dfunctions"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dfunctions"><span class="category-def">Function: </span><span><strong class="def-name">call-functions</strong> <var class="def-var-arguments">function-specs</var><a class="copiable-link" href="#index-call_002dfunctions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003acall_002dfunctions"></a>
<p>For each function in the list <code class="code">function-specs</code>, in order, call the function as per <code class="code">call-function</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003acall_002dwith_002dmuffled_002dconditions"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dmuffled_002dconditions"><span class="category-def">Function: </span><span><strong class="def-name">call-with-muffled-conditions</strong> <var class="def-var-arguments">thunk conditions</var><a class="copiable-link" href="#index-call_002dwith_002dmuffled_002dconditions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003acall_002dwith_002dmuffled_002dconditions"></a>
<p>calls the <code class="code">thunk</code> in a context where the <code class="code">conditions</code> are muffled
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003acoerce_002dclass"></a><dl class="first-deffn">
<dt class="deffn" id="index-coerce_002dclass"><span class="category-def">Function: </span><span><strong class="def-name">coerce-class</strong> <var class="def-var-arguments">class &amp;key  package super error</var><a class="copiable-link" href="#index-coerce_002dclass"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003acoerce_002dclass"></a>
<p>Coerce <code class="code">class</code> to a class that is subclass of <code class="code">super</code> if specified,
or invoke <code class="code">error</code> handler as per <code class="code">call-function</code>.
</p>
<p>A keyword designates the name a symbol, which when found in either <code class="code">package</code>, designates a class.
<code class="code">--</code> for backward compatibility, <code class="code">*package*</code> is also accepted for now, but this may go in the future.
A string is read as a symbol while in <code class="code">package</code>, the symbol designates a class.
</p>
<p>A class object designates itself.
<code class="code">nil</code> designates itself (no class).
A symbol otherwise designates a class by name.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aemptyp"></a><dl class="first-deffn">
<dt class="deffn" id="index-emptyp"><span class="category-def">Function: </span><span><strong class="def-name">emptyp</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-emptyp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aemptyp"></a>
<p>Predicate that is true for an empty sequence
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aensure_002dfunction"></a><dl class="first-deffn">
<dt class="deffn" id="index-ensure_002dfunction"><span class="category-def">Function: </span><span><strong class="def-name">ensure-function</strong> <var class="def-var-arguments">fun &amp;key  package</var><a class="copiable-link" href="#index-ensure_002dfunction"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aensure_002dfunction"></a>
<p>Coerce the object <code class="code">fun</code> into a function.
</p>
<p>If <code class="code">fun</code> is a <code class="code">function</code>, return it.
If the <code class="code">fun</code> is a non-sequence literal constant, return constantly that,
i.e. for a boolean keyword character number or pathname.
Otherwise if <code class="code">fun</code> is a non-literally constant symbol, return its <code class="code">fdefinition</code>.
If <code class="code">fun</code> is a <code class="code">cons</code>, return the function that applies its <code class="code">car</code>
to the appended list of the rest of its <code class="code">cdr</code> and the arguments,
unless the <code class="code">car</code> is <code class="code">lambda</code>, in which case the expression is evaluated.
If <code class="code">fun</code> is a string, <code class="code">read</code> a form from it in the specified <code class="code">package</code> (default: CL)
and <code class="code">eval</code> that in a (<code class="code">function</code> ...) context.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aensure_002dgethash"></a><dl class="first-deffn">
<dt class="deffn" id="index-ensure_002dgethash"><span class="category-def">Function: </span><span><strong class="def-name">ensure-gethash</strong> <var class="def-var-arguments">key table default</var><a class="copiable-link" href="#index-ensure_002dgethash"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aensure_002dgethash"></a>
<p>Lookup the <code class="code">table</code> for a <code class="code">key</code> as by <code class="code">gethash</code>, but if not present,
call the (possibly constant) function designated by <code class="code">default</code> as per <code class="code">call-function</code>,
set the corresponding entry to the result in the table.
Return two values: the entry after its optional computation, and whether it was found
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003afind_002dstandard_002dcase_002dsymbol"></a><dl class="first-deffn">
<dt class="deffn" id="index-find_002dstandard_002dcase_002dsymbol"><span class="category-def">Function: </span><span><strong class="def-name">find-standard-case-symbol</strong> <var class="def-var-arguments">name-designator package-designator &amp;optional  error</var><a class="copiable-link" href="#index-find_002dstandard_002dcase_002dsymbol"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003afind_002dstandard_002dcase_002dsymbol"></a>
<p>Find a symbol designated by <code class="code">name-designator</code> in a package designated by <code class="code">package-designator</code>,
where <code class="code">standard-case-symbol-name</code> is used to transform them if these designators are strings.
If optional <code class="code">error</code> argument is <code class="code">nil</code>, return <code class="code">nil</code> instead of an error when the symbol is not found.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003afirst_002dchar"></a><dl class="first-deffn">
<dt class="deffn" id="index-first_002dchar"><span class="category-def">Function: </span><span><strong class="def-name">first-char</strong> <var class="def-var-arguments">s</var><a class="copiable-link" href="#index-first_002dchar"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003afirst_002dchar"></a>
<p>Return the first character of a non-empty string <code class="code">s</code>, or <code class="code">nil</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003afrob_002dsubstrings"></a><dl class="first-deffn">
<dt class="deffn" id="index-frob_002dsubstrings"><span class="category-def">Function: </span><span><strong class="def-name">frob-substrings</strong> <var class="def-var-arguments">string substrings &amp;optional  frob</var><a class="copiable-link" href="#index-frob_002dsubstrings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003afrob_002dsubstrings"></a>
<p>for each substring in <code class="code">substrings</code>, find occurrences of it within <code class="code">string</code>
that don’t use parts of matched occurrences of previous strings, and
<code class="code">frob</code> them, that is to say, remove them if <code class="code">frob</code> is <code class="code">nil</code>,
replace by <code class="code">frob</code> if <code class="code">frob</code> is a <code class="code">string</code>, or if <code class="code">frob</code> is a <code class="code">function</code>,
call <code class="code">frob</code> with the match and a function that emits a string in the output.
Return a string made of the parts not omitted or emitted by <code class="code">frob</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003alast_002dchar"></a><dl class="first-deffn">
<dt class="deffn" id="index-last_002dchar"><span class="category-def">Function: </span><span><strong class="def-name">last-char</strong> <var class="def-var-arguments">s</var><a class="copiable-link" href="#index-last_002dchar"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003alast_002dchar"></a>
<p>Return the last character of a non-empty string <code class="code">s</code>, or <code class="code">nil</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003alexicographic_003c_003d"></a><dl class="first-deffn">
<dt class="deffn" id="index-lexicographic_003c_003d"><span class="category-def">Function: </span><span><strong class="def-name">lexicographic&lt;=</strong> <var class="def-var-arguments">element&lt; x y</var><a class="copiable-link" href="#index-lexicographic_003c_003d"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003alexicographic_003c_003d"></a>
<p>Lexicographically compare two lists of using the function element&lt; to compare elements.
element&lt; is a strict total order; the resulting order on <code class="code">x</code> and <code class="code">y</code> will be a non-strict total order.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003alexicographic_003c"></a><dl class="first-deffn">
<dt class="deffn" id="index-lexicographic_003c"><span class="category-def">Function: </span><span><strong class="def-name">lexicographic&lt;</strong> <var class="def-var-arguments">element&lt; x y</var><a class="copiable-link" href="#index-lexicographic_003c"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003alexicographic_003c"></a>
<p>Lexicographically compare two lists of using the function element&lt; to compare elements.
element&lt; is a strict total order; the resulting order on <code class="code">x</code> and <code class="code">y</code> will also be strict.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003alist_002dto_002dhash_002dset"></a><dl class="first-deffn">
<dt class="deffn" id="index-list_002dto_002dhash_002dset"><span class="category-def">Function: </span><span><strong class="def-name">list-to-hash-set</strong> <var class="def-var-arguments">list &amp;aux (h (make-hash-table test (quote equal)))</var><a class="copiable-link" href="#index-list_002dto_002dhash_002dset"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003alist_002dto_002dhash_002dset"></a>
<p>Convert a <code class="code">list</code> into hash-table that has the same elements when viewed as a set,
up to the given equality <code class="code">test</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aload_002duiop_002ddebug_002dutility"></a><dl class="first-deffn">
<dt class="deffn" id="index-load_002duiop_002ddebug_002dutility"><span class="category-def">Function: </span><span><strong class="def-name">load-uiop-debug-utility</strong> <var class="def-var-arguments">&amp;key  package utility-file</var><a class="copiable-link" href="#index-load_002duiop_002ddebug_002dutility"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aload_002duiop_002ddebug_002dutility"></a>
<p>Load the <code class="code">uiop</code> debug utility in given <code class="code">package</code> (default <code class="code">*package*</code>).
Beware: The utility is located by <code class="code">eval</code>’uating the <code class="code">utility-file</code> form (default <code class="code">*uiop-debug-utility*</code>).
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003amatch_002dany_002dcondition_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-match_002dany_002dcondition_002dp"><span class="category-def">Function: </span><span><strong class="def-name">match-any-condition-p</strong> <var class="def-var-arguments">condition conditions</var><a class="copiable-link" href="#index-match_002dany_002dcondition_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003amatch_002dany_002dcondition_002dp"></a>
<p>match <code class="code">condition</code> against any of the patterns of <code class="code">conditions</code> supplied
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003amatch_002dcondition_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-match_002dcondition_002dp"><span class="category-def">Function: </span><span><strong class="def-name">match-condition-p</strong> <var class="def-var-arguments">x condition</var><a class="copiable-link" href="#index-match_002dcondition_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003amatch_002dcondition_002dp"></a>
<p>Compare received <code class="code">condition</code> to some pattern <code class="code">x:</code>
a symbol naming a condition class,
a simple vector of length <code class="code">2</code>, arguments to find-symbol* with result as above,
or a string describing the format-control of a simple-condition.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003anot_002dimplemented_002derror"></a><dl class="first-deffn">
<dt class="deffn" id="index-not_002dimplemented_002derror"><span class="category-def">Function: </span><span><strong class="def-name">not-implemented-error</strong> <var class="def-var-arguments">functionality &amp;optional  format-control &amp;rest  format-arguments</var><a class="copiable-link" href="#index-not_002dimplemented_002derror"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003anot_002dimplemented_002derror"></a>
<p>Signal an error because some <code class="code">functionality</code> is not implemented in the current version
of the software on the current platform; it may or may not be implemented in different combinations
of version of the software and of the underlying platform. Optionally, report a formatted error
message.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aparameter_002derror"></a><dl class="first-deffn">
<dt class="deffn" id="index-parameter_002derror"><span class="category-def">Function: </span><span><strong class="def-name">parameter-error</strong> <var class="def-var-arguments">format-control functionality &amp;rest  format-arguments</var><a class="copiable-link" href="#index-parameter_002derror"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aparameter_002derror"></a>
<p>Signal an error because some <code class="code">functionality</code> or its specific implementation on a given underlying
platform does not accept a given parameter or combination of parameters. Report a formatted error
message, that takes the functionality as its first argument (that can be skipped with ~*).
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aparse_002dbody"></a><dl class="first-deffn">
<dt class="deffn" id="index-parse_002dbody"><span class="category-def">Function: </span><span><strong class="def-name">parse-body</strong> <var class="def-var-arguments">body &amp;key  documentation whole</var><a class="copiable-link" href="#index-parse_002dbody"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aparse_002dbody"></a>
<p>Parses <code class="code">body</code> into (values remaining-forms declarations doc-string).
Documentation strings are recognized only if <code class="code">documentation</code> is true.
Syntax errors in body are signalled and <code class="code">whole</code> is used in the signal
arguments when given.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003areduce_002fstrcat"></a><dl class="first-deffn">
<dt class="deffn" id="index-reduce_002fstrcat"><span class="category-def">Function: </span><span><strong class="def-name">reduce/strcat</strong> <var class="def-var-arguments">strings &amp;key  key start end</var><a class="copiable-link" href="#index-reduce_002fstrcat"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003areduce_002fstrcat"></a>
<p>Reduce a list as if by <code class="code">strcat</code>, accepting <code class="code">key</code> <code class="code">start</code> and <code class="code">end</code> keywords like <code class="code">reduce</code>.
<code class="code">nil</code> is interpreted as an empty string. A character is interpreted as a string of length one.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aregister_002dhook_002dfunction"></a><dl class="first-deffn">
<dt class="deffn" id="index-register_002dhook_002dfunction"><span class="category-def">Function: </span><span><strong class="def-name">register-hook-function</strong> <var class="def-var-arguments">variable hook &amp;optional  call-now-p</var><a class="copiable-link" href="#index-register_002dhook_002dfunction"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aregister_002dhook_002dfunction"></a>
<p>Push the <code class="code">hook</code> function (a designator as per <code class="code">ensure-function</code>) onto the hook <code class="code">variable</code>.
When <code class="code">call-now-p</code> is true, also call the function immediately.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aremove_002dplist_002dkey"></a><dl class="first-deffn">
<dt class="deffn" id="index-remove_002dplist_002dkey"><span class="category-def">Function: </span><span><strong class="def-name">remove-plist-key</strong> <var class="def-var-arguments">key plist</var><a class="copiable-link" href="#index-remove_002dplist_002dkey"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aremove_002dplist_002dkey"></a>
<p>Remove a single key from a plist
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003aremove_002dplist_002dkeys"></a><dl class="first-deffn">
<dt class="deffn" id="index-remove_002dplist_002dkeys"><span class="category-def">Function: </span><span><strong class="def-name">remove-plist-keys</strong> <var class="def-var-arguments">keys plist</var><a class="copiable-link" href="#index-remove_002dplist_002dkeys"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aremove_002dplist_002dkeys"></a>
<p>Remove a list of keys from a plist
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003asplit_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-split_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">split-string</strong> <var class="def-var-arguments">string &amp;key  max separator</var><a class="copiable-link" href="#index-split_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003asplit_002dstring"></a>
<p>Split <code class="code">string</code> into a list of components separated by
any of the characters in the sequence <code class="code">separator</code>.
If <code class="code">max</code> is specified, then no more than max(<code class="code">1</code>,<code class="code">max</code>) components will be returned,
starting the separation from the end, e.g. when called with arguments
 "a.b.c.d.e" :max <code class="code">3</code> :separator "." it will return ("a.b.c" "d" "e").
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astandard_002dcase_002dsymbol_002dname"></a><dl class="first-deffn">
<dt class="deffn" id="index-standard_002dcase_002dsymbol_002dname"><span class="category-def">Function: </span><span><strong class="def-name">standard-case-symbol-name</strong> <var class="def-var-arguments">name-designator</var><a class="copiable-link" href="#index-standard_002dcase_002dsymbol_002dname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astandard_002dcase_002dsymbol_002dname"></a>
<p>Given a <code class="code">name-designator</code> for a symbol, if it is a symbol, convert it to a string using <code class="code">string</code>;
if it is a string, use <code class="code">string-upcase</code> on an ANSI CL platform, or <code class="code">string</code> on a so-called "modern"
platform such as Allegro with modern syntax.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astrcat"></a><dl class="first-deffn">
<dt class="deffn" id="index-strcat"><span class="category-def">Function: </span><span><strong class="def-name">strcat</strong> <var class="def-var-arguments">&amp;rest  strings</var><a class="copiable-link" href="#index-strcat"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astrcat"></a>
<p>Concatenate strings.
<code class="code">nil</code> is interpreted as an empty string, a character as a string of length one.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astring_002denclosed_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-string_002denclosed_002dp"><span class="category-def">Function: </span><span><strong class="def-name">string-enclosed-p</strong> <var class="def-var-arguments">prefix string suffix</var><a class="copiable-link" href="#index-string_002denclosed_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astring_002denclosed_002dp"></a>
<p>Does <code class="code">string</code> begin with <code class="code">prefix</code> and end with <code class="code">suffix</code>?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astring_002dprefix_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-string_002dprefix_002dp"><span class="category-def">Function: </span><span><strong class="def-name">string-prefix-p</strong> <var class="def-var-arguments">prefix string</var><a class="copiable-link" href="#index-string_002dprefix_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astring_002dprefix_002dp"></a>
<p>Does <code class="code">string</code> begin with <code class="code">prefix</code>?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astring_002dsuffix_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-string_002dsuffix_002dp"><span class="category-def">Function: </span><span><strong class="def-name">string-suffix-p</strong> <var class="def-var-arguments">string suffix</var><a class="copiable-link" href="#index-string_002dsuffix_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astring_002dsuffix_002dp"></a>
<p>Does <code class="code">string</code> end with <code class="code">suffix</code>?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astrings_002dcommon_002delement_002dtype"></a><dl class="first-deffn">
<dt class="deffn" id="index-strings_002dcommon_002delement_002dtype"><span class="category-def">Function: </span><span><strong class="def-name">strings-common-element-type</strong> <var class="def-var-arguments">strings</var><a class="copiable-link" href="#index-strings_002dcommon_002delement_002dtype"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astrings_002dcommon_002delement_002dtype"></a>
<p>What least subtype of <code class="code">character</code> can contain all the elements of all the <code class="code">strings</code>?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003astripln"></a><dl class="first-deffn">
<dt class="deffn" id="index-stripln"><span class="category-def">Function: </span><span><strong class="def-name">stripln</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-stripln"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003astripln"></a>
<p>Strip a string <code class="code">x</code> from any ending CR, LF or CRLF.
Return two values, the stripped string and the ending that was stripped,
or the original value and <code class="code">nil</code> if no stripping took place.
Since our <code class="code">strcat</code> accepts <code class="code">nil</code> as empty string designator,
the two results passed to <code class="code">strcat</code> always reconstitute the original string
</p></dd></dl>
<a class="anchor" id="Function-uiop_002futility_003asymbol_002dtest_002dto_002dfeature_002dexpression"></a><dl class="first-deffn">
<dt class="deffn" id="index-symbol_002dtest_002dto_002dfeature_002dexpression"><span class="category-def">Function: </span><span><strong class="def-name">symbol-test-to-feature-expression</strong> <var class="def-var-arguments">name package</var><a class="copiable-link" href="#index-symbol_002dtest_002dto_002dfeature_002dexpression"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003asymbol_002dtest_002dto_002dfeature_002dexpression"></a>
<p>Check if a symbol with a given <code class="code">name</code> exists in <code class="code">package</code> and returns a
form suitable for testing with <code class="code">#+</code>.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002futility_003aappendf"></a><dl class="first-deffn">
<dt class="deffn" id="index-appendf"><span class="category-def">Macro: </span><span><strong class="def-name">appendf</strong> <var class="def-var-arguments">place &amp;rest  args</var><a class="copiable-link" href="#index-appendf"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003aappendf"></a>
<p>Append onto list
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002futility_003anest"></a><dl class="first-deffn">
<dt class="deffn" id="index-nest"><span class="category-def">Macro: </span><span><strong class="def-name">nest</strong> <var class="def-var-arguments">&amp;rest  things</var><a class="copiable-link" href="#index-nest"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003anest"></a>
<p>Macro to keep code nesting and indentation under control.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002futility_003auiop_002ddebug"></a><dl class="first-deffn">
<dt class="deffn" id="index-uiop_002ddebug"><span class="category-def">Macro: </span><span><strong class="def-name">uiop-debug</strong> <var class="def-var-arguments">&amp;rest  keys</var><a class="copiable-link" href="#index-uiop_002ddebug"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003auiop_002ddebug"></a>
<p>Load the <code class="code">uiop</code> debug utility at compile-time as well as runtime
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002futility_003awhile_002dcollecting"></a><dl class="first-deffn">
<dt class="deffn" id="index-while_002dcollecting"><span class="category-def">Macro: </span><span><strong class="def-name">while-collecting</strong> <var class="def-var-arguments">(&amp;rest collectors) &amp;body  body</var><a class="copiable-link" href="#index-while_002dcollecting"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003awhile_002dcollecting"></a>
<p><code class="code">collectors</code> should be a list of names for collections.  A collector
defines a function that, when applied to an argument inside <code class="code">body</code>, will
add its argument to the corresponding collection.  Returns multiple values,
a list for each collection, in order.
   <code class="code">e</code>.g.,
(while-collecting (foo bar)
           (dolist (x ’((a <code class="code">1</code>) (b <code class="code">2</code>) (c <code class="code">3</code>)))
             (foo (first x))
             (bar (second x))))
Returns two values: (A <code class="code">b</code> <code class="code">c</code>) and (<code class="code">1</code> <code class="code">2</code> <code class="code">3</code>).
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002futility_003awith_002dmuffled_002dconditions"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dmuffled_002dconditions"><span class="category-def">Macro: </span><span><strong class="def-name">with-muffled-conditions</strong> <var class="def-var-arguments">(conditions) &amp;body  body</var><a class="copiable-link" href="#index-with_002dmuffled_002dconditions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003awith_002dmuffled_002dconditions"></a>
<p>Shorthand syntax for <code class="code">call-with-muffled-conditions</code>
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002futility_003awith_002dupgradability"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dupgradability"><span class="category-def">Macro: </span><span><strong class="def-name">with-upgradability</strong> <var class="def-var-arguments">(&amp;optional) &amp;body  body</var><a class="copiable-link" href="#index-with_002dupgradability"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003awith_002dupgradability"></a>
<p>Evaluate <code class="code">body</code> at compile- load- and run- times, with <code class="code">defun</code> and <code class="code">defgeneric</code> modified
to also declare the functions <code class="code">notinline</code> and to accept a wrapping the function name
specification into a list with keyword argument <code class="code">supersede</code> (which defaults to <code class="code">t</code> if the name
is not wrapped, and <code class="code">nil</code> if it is wrapped). If <code class="code">supersede</code> is true, call <code class="code">undefine-function</code>
to supersede any previous definition.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002futility_003a_002auiop_002ddebug_002dutility_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002auiop_002ddebug_002dutility_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*uiop-debug-utility*</strong><a class="copiable-link" href="#index-_002auiop_002ddebug_002dutility_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002futility_003a_002auiop_002ddebug_002dutility_002a"></a>
<p>form that evaluates to the pathname to your favorite debugging utilities
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fVERSION">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fOS" accesskey="n" rel="next">UIOP/OS</a>, Previous: <a href="#UIOP_002fUTILITY" accesskey="p" rel="prev">UIOP/UTILITY</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fVERSION-1"><span>5 UIOP/VERSION<a class="copiable-link" href="#UIOP_002fVERSION-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fversion_003anext_002dversion"></a><dl class="first-deffn">
<dt class="deffn" id="index-next_002dversion"><span class="category-def">Function: </span><span><strong class="def-name">next-version</strong> <var class="def-var-arguments">version</var><a class="copiable-link" href="#index-next_002dversion"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003anext_002dversion"></a>
<p>When <code class="code">version</code> is not nil, it is a string, then parse it as a version, compute the next version
and return it as a string.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fversion_003aparse_002dversion"></a><dl class="first-deffn">
<dt class="deffn" id="index-parse_002dversion"><span class="category-def">Function: </span><span><strong class="def-name">parse-version</strong> <var class="def-var-arguments">version-string &amp;optional  on-error</var><a class="copiable-link" href="#index-parse_002dversion"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003aparse_002dversion"></a>
<p>Parse a <code class="code">version-string</code> as a series of natural numbers separated by dots.
Return a (non-null) list of integers if the string is valid;
otherwise return <code class="code">nil</code>.
</p>
<p>When invalid, <code class="code">on-error</code> is called as per <code class="code">call-function</code> before to return <code class="code">nil</code>,
with format arguments explaining why the version is invalid.
<code class="code">on-error</code> is also called if the version is not canonical
in that it doesn’t print back to itself, but the list is returned anyway.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fversion_003aunparse_002dversion"></a><dl class="first-deffn">
<dt class="deffn" id="index-unparse_002dversion"><span class="category-def">Function: </span><span><strong class="def-name">unparse-version</strong> <var class="def-var-arguments">version-list</var><a class="copiable-link" href="#index-unparse_002dversion"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003aunparse_002dversion"></a>
<p>From a parsed version (a list of natural numbers), compute the version string
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fversion_003aversion_002ddeprecation"></a><dl class="first-deffn">
<dt class="deffn" id="index-version_002ddeprecation"><span class="category-def">Function: </span><span><strong class="def-name">version-deprecation</strong> <var class="def-var-arguments">version &amp;key  style-warning warning error delete</var><a class="copiable-link" href="#index-version_002ddeprecation"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003aversion_002ddeprecation"></a>
<p>Given a <code class="code">version</code> string, and the starting versions for notifying the programmer of
various levels of deprecation, return the current level of deprecation as per <code class="code">with-deprecation</code>
that is the highest level that has a declared version older than the specified version.
Each start version for a level of deprecation can be specified by a keyword argument, or
if left unspecified, will be the <code class="code">next-version</code> of the immediate lower level of deprecation.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fversion_003aversion_003d"></a><dl class="first-deffn">
<dt class="deffn" id="index-version_003d"><span class="category-def">Function: </span><span><strong class="def-name">version=</strong> <var class="def-var-arguments">version1 version2</var><a class="copiable-link" href="#index-version_003d"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003aversion_003d"></a>
<p>Given two version strings, return <code class="code">t</code> if the first is newer or the same and
the second is also newer or the same.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fversion_003aversion_003c_003d"></a><dl class="first-deffn">
<dt class="deffn" id="index-version_003c_003d"><span class="category-def">Function: </span><span><strong class="def-name">version&lt;=</strong> <var class="def-var-arguments">version1 version2</var><a class="copiable-link" href="#index-version_003c_003d"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003aversion_003c_003d"></a>
<p>Given two version strings, return <code class="code">t</code> if the second is newer or the same
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fversion_003aversion_003c"></a><dl class="first-deffn">
<dt class="deffn" id="index-version_003c"><span class="category-def">Function: </span><span><strong class="def-name">version&lt;</strong> <var class="def-var-arguments">version1 version2</var><a class="copiable-link" href="#index-version_003c"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003aversion_003c"></a>
<p>Given two version strings, return <code class="code">t</code> if the second is strictly newer
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fversion_003awith_002ddeprecation"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002ddeprecation"><span class="category-def">Macro: </span><span><strong class="def-name">with-deprecation</strong> <var class="def-var-arguments">(level) &amp;body  definitions</var><a class="copiable-link" href="#index-with_002ddeprecation"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fversion_003awith_002ddeprecation"></a>
<p>Given a deprecation <code class="code">level</code> (a form to be <code class="code">eval</code>’ed at macro-expansion time), instrument the
<code class="code">defun</code> and <code class="code">defmethod</code> forms in <code class="code">definitions</code> to notify the programmer of the deprecation of the function
when it is compiled or called.
</p>
<p>Increasing levels (as result from evaluating <code class="code">level</code>) are: <code class="code">nil</code> (not deprecated yet),
<code class="code">:style-warning</code> (a style warning is issued when used), <code class="code">:warning</code> (a full warning is issued when used),
<code class="code">:error</code> (a continuable error instead), and <code class="code">:delete</code> (it’s an error if the code is still there while
at that level).
</p>
<p>Forms other than <code class="code">defun</code> and <code class="code">defmethod</code> are not instrumented, and you can protect a <code class="code">defun</code> or <code class="code">defmethod</code>
from instrumentation by enclosing it in a <code class="code">progn</code>.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fOS">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fPATHNAME" accesskey="n" rel="next">UIOP/PATHNAME</a>, Previous: <a href="#UIOP_002fVERSION" accesskey="p" rel="prev">UIOP/VERSION</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fOS-1"><span>6 UIOP/OS<a class="copiable-link" href="#UIOP_002fOS-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fos_003aarchitecture"></a><dl class="first-deffn">
<dt class="deffn" id="index-architecture"><span class="category-def">Function: </span><span><strong class="def-name">architecture</strong><a class="copiable-link" href="#index-architecture"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aarchitecture"></a>
<p>The CPU architecture of the current host
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003achdir"></a><dl class="first-deffn">
<dt class="deffn" id="index-chdir"><span class="category-def">Function: </span><span><strong class="def-name">chdir</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-chdir"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003achdir"></a>
<p>Change current directory, as per POSIX chdir(<code class="code">2</code>), to a given pathname object
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003adetect_002dos"></a><dl class="first-deffn">
<dt class="deffn" id="index-detect_002dos"><span class="category-def">Function: </span><span><strong class="def-name">detect-os</strong><a class="copiable-link" href="#index-detect_002dos"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003adetect_002dos"></a>
<p>Detects the current operating system. Only needs be run at compile-time,
except on ABCL where it might change between FASL compilation and runtime.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003afeaturep"></a><dl class="first-deffn">
<dt class="deffn" id="index-featurep"><span class="category-def">Function: </span><span><strong class="def-name">featurep</strong> <var class="def-var-arguments">x &amp;optional  *features*</var><a class="copiable-link" href="#index-featurep"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003afeaturep"></a>
<p>Checks whether a feature expression <code class="code">x</code> is true with respect to the <code class="code">*features*</code> set,
as per the CLHS standard for <code class="code">#+</code> and <code class="code">#-</code>. Beware that just like the CLHS,
we assume symbols from the <code class="code">keyword</code> package are used, but that unless you’re using #+/#-
your reader will not have magically used the <code class="code">keyword</code> package, so you need specify
keywords explicitly.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003agetcwd"></a><dl class="first-deffn">
<dt class="deffn" id="index-getcwd"><span class="category-def">Function: </span><span><strong class="def-name">getcwd</strong><a class="copiable-link" href="#index-getcwd"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003agetcwd"></a>
<p>Get the current working directory as per POSIX getcwd(<code class="code">3</code>), as a pathname object
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003agetenv"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenv"><span class="category-def">Function: </span><span><strong class="def-name">getenv</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-getenv"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003agetenv"></a>
<p>Query the environment, as in <code class="code">c</code> getenv.
Beware: may return empty string if a variable is present but empty;
use getenvp to return <code class="code">nil</code> in such a case.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003agetenvp"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenvp"><span class="category-def">Function: </span><span><strong class="def-name">getenvp</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-getenvp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003agetenvp"></a>
<p>Predicate that is true if the named variable is present in the libc environment,
then returning the non-empty string value of the variable
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003ahostname"></a><dl class="first-deffn">
<dt class="deffn" id="index-hostname"><span class="category-def">Function: </span><span><strong class="def-name">hostname</strong><a class="copiable-link" href="#index-hostname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003ahostname"></a>
<p>return the hostname of the current host
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aimplementation_002didentifier"></a><dl class="first-deffn">
<dt class="deffn" id="index-implementation_002didentifier"><span class="category-def">Function: </span><span><strong class="def-name">implementation-identifier</strong><a class="copiable-link" href="#index-implementation_002didentifier"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aimplementation_002didentifier"></a>
<p>Return a string that identifies the <code class="code">abi</code> of the current implementation,
suitable for use as a directory name to segregate Lisp FASLs, <code class="code">c</code> dynamic libraries, etc.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aimplementation_002dtype"></a><dl class="first-deffn">
<dt class="deffn" id="index-implementation_002dtype"><span class="category-def">Function: </span><span><strong class="def-name">implementation-type</strong><a class="copiable-link" href="#index-implementation_002dtype"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aimplementation_002dtype"></a>
<p>The type of Lisp implementation used, as a short UIOP-standardized keyword
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003alisp_002dversion_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-lisp_002dversion_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">lisp-version-string</strong><a class="copiable-link" href="#index-lisp_002dversion_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003alisp_002dversion_002dstring"></a>
<p>return a string that identifies the current Lisp implementation version
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aoperating_002dsystem"></a><dl class="first-deffn">
<dt class="deffn" id="index-operating_002dsystem"><span class="category-def">Function: </span><span><strong class="def-name">operating-system</strong><a class="copiable-link" href="#index-operating_002dsystem"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aoperating_002dsystem"></a>
<p>The operating system of the current host
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aos_002dgenera_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-os_002dgenera_002dp"><span class="category-def">Function: </span><span><strong class="def-name">os-genera-p</strong><a class="copiable-link" href="#index-os_002dgenera_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aos_002dgenera_002dp"></a>
<p>Is the underlying operating system Genera (running on a Symbolics Lisp Machine)?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aos_002dmacosx_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-os_002dmacosx_002dp"><span class="category-def">Function: </span><span><strong class="def-name">os-macosx-p</strong><a class="copiable-link" href="#index-os_002dmacosx_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aos_002dmacosx_002dp"></a>
<p>Is the underlying operating system MacOS <code class="code">x</code>?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aos_002dunix_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-os_002dunix_002dp"><span class="category-def">Function: </span><span><strong class="def-name">os-unix-p</strong><a class="copiable-link" href="#index-os_002dunix_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aos_002dunix_002dp"></a>
<p>Is the underlying operating system some Unix variant?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aos_002dwindows_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-os_002dwindows_002dp"><span class="category-def">Function: </span><span><strong class="def-name">os-windows-p</strong><a class="copiable-link" href="#index-os_002dwindows_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aos_002dwindows_002dp"></a>
<p>Is the underlying operating system Microsoft Windows?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aparse_002dfile_002dlocation_002dinfo"></a><dl class="first-deffn">
<dt class="deffn" id="index-parse_002dfile_002dlocation_002dinfo"><span class="category-def">Function: </span><span><strong class="def-name">parse-file-location-info</strong> <var class="def-var-arguments">s</var><a class="copiable-link" href="#index-parse_002dfile_002dlocation_002dinfo"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aparse_002dfile_002dlocation_002dinfo"></a>
<p>helper to parse-windows-shortcut
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aparse_002dwindows_002dshortcut"></a><dl class="first-deffn">
<dt class="deffn" id="index-parse_002dwindows_002dshortcut"><span class="category-def">Function: </span><span><strong class="def-name">parse-windows-shortcut</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-parse_002dwindows_002dshortcut"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aparse_002dwindows_002dshortcut"></a>
<p>From a .lnk windows shortcut, extract the pathname linked to
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aread_002dlittle_002dendian"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dlittle_002dendian"><span class="category-def">Function: </span><span><strong class="def-name">read-little-endian</strong> <var class="def-var-arguments">s &amp;optional  bytes</var><a class="copiable-link" href="#index-read_002dlittle_002dendian"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aread_002dlittle_002dendian"></a>
<p>Read a number in little-endian format from an byte (octet) stream <code class="code">s</code>,
the number having <code class="code">bytes</code> octets (defaulting to <code class="code">4</code>).
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fos_003aread_002dnull_002dterminated_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dnull_002dterminated_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">read-null-terminated-string</strong> <var class="def-var-arguments">s</var><a class="copiable-link" href="#index-read_002dnull_002dterminated_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003aread_002dnull_002dterminated_002dstring"></a>
<p>Read a null-terminated string from an octet stream <code class="code">s</code>
</p></dd></dl>
<a class="anchor" id="Setf_002dExpander-uiop_002fos_003agetenv"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenv-1"><span class="category-def">Setf Expander: </span><span><strong class="def-name">getenv</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-getenv-1"> ¶</a></span></dt>
<dd><p>Set an environment variable.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fos_003a_002aimplementation_002dtype_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimplementation_002dtype_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*implementation-type*</strong><a class="copiable-link" href="#index-_002aimplementation_002dtype_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fos_003a_002aimplementation_002dtype_002a"></a>
<p>The type of Lisp implementation used, as a short UIOP-standardized keyword
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fPATHNAME">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fFILESYSTEM" accesskey="n" rel="next">UIOP/FILESYSTEM</a>, Previous: <a href="#UIOP_002fOS" accesskey="p" rel="prev">UIOP/OS</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fPATHNAME-1"><span>7 UIOP/PATHNAME<a class="copiable-link" href="#UIOP_002fPATHNAME-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fpathname_003aabsolute_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-absolute_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">absolute-pathname-p</strong> <var class="def-var-arguments">pathspec</var><a class="copiable-link" href="#index-absolute_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aabsolute_002dpathname_002dp"></a>
<p>If <code class="code">pathspec</code> is a pathname or namestring object that parses as a pathname
possessing an <code class="code">:absolute</code> directory component, return the (parsed) pathname.
Otherwise return <code class="code">nil</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003acall_002dwith_002denough_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002denough_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">call-with-enough-pathname</strong> <var class="def-var-arguments">maybe-subpath defaults-pathname thunk</var><a class="copiable-link" href="#index-call_002dwith_002denough_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003acall_002dwith_002denough_002dpathname"></a>
<p>In a context where <code class="code">*default-pathname-defaults*</code> is bound to <code class="code">defaults-pathname</code> (if not null,
or else to its current value), call <code class="code">thunk</code> with <code class="code">enough-pathname</code> for <code class="code">maybe-subpath</code>
given <code class="code">defaults-pathname</code> as a base pathname.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003adenormalize_002dpathname_002ddirectory_002dcomponent"></a><dl class="first-deffn">
<dt class="deffn" id="index-denormalize_002dpathname_002ddirectory_002dcomponent"><span class="category-def">Function: </span><span><strong class="def-name">denormalize-pathname-directory-component</strong> <var class="def-var-arguments">directory-component</var><a class="copiable-link" href="#index-denormalize_002dpathname_002ddirectory_002dcomponent"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003adenormalize_002dpathname_002ddirectory_002dcomponent"></a>
<p>Convert the <code class="code">directory-component</code> from a CLHS-standard format to a format usable
by the underlying implementation’s <code class="code">make-pathname</code> and other primitives
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003adirectorize_002dpathname_002dhost_002ddevice"></a><dl class="first-deffn">
<dt class="deffn" id="index-directorize_002dpathname_002dhost_002ddevice"><span class="category-def">Function: </span><span><strong class="def-name">directorize-pathname-host-device</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-directorize_002dpathname_002dhost_002ddevice"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003adirectorize_002dpathname_002dhost_002ddevice"></a>
<p>Given a <code class="code">pathname</code>, return a pathname that has representations of its <code class="code">host</code> and <code class="code">device</code> components
added to its <code class="code">directory</code> component. This is useful for output translations.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003adirectory_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-directory_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">directory-pathname-p</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-directory_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003adirectory_002dpathname_002dp"></a>
<p>Does <code class="code">pathname</code> represent a directory?
</p>
<p>A directory-pathname is a pathname _without_ a filename. The three
ways that the filename components can be missing are for it to be <code class="code">nil</code>,
<code class="code">:unspecific</code> or the empty string.
</p>
<p>Note that this does _not_ check to see that <code class="code">pathname</code> points to an
actually-existing directory.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003adirectory_002dseparator_002dfor_002dhost"></a><dl class="first-deffn">
<dt class="deffn" id="index-directory_002dseparator_002dfor_002dhost"><span class="category-def">Function: </span><span><strong class="def-name">directory-separator-for-host</strong> <var class="def-var-arguments">&amp;optional  pathname</var><a class="copiable-link" href="#index-directory_002dseparator_002dfor_002dhost"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003adirectory_002dseparator_002dfor_002dhost"></a>
<p>Given a <code class="code">pathname</code>, return the character used to delimit directory names on this host and device.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aenough_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-enough_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">enough-pathname</strong> <var class="def-var-arguments">maybe-subpath base-pathname</var><a class="copiable-link" href="#index-enough_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aenough_002dpathname"></a>
<p>if <code class="code">maybe-subpath</code> is a pathname that is under <code class="code">base-pathname</code>, return a pathname object that
when used with <code class="code">merge-pathnames*</code> with defaults <code class="code">base-pathname</code>, returns <code class="code">maybe-subpath</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aensure_002dabsolute_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-ensure_002dabsolute_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">ensure-absolute-pathname</strong> <var class="def-var-arguments">path &amp;optional  defaults on-error</var><a class="copiable-link" href="#index-ensure_002dabsolute_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aensure_002dabsolute_002dpathname"></a>
<p>Given a pathname designator <code class="code">path</code>, return an absolute pathname as specified by <code class="code">path</code>
considering the <code class="code">defaults</code>, or, if not possible, use <code class="code">call-function</code> on the specified <code class="code">on-error</code> behavior,
with a format control-string and other arguments as arguments
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aensure_002ddirectory_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-ensure_002ddirectory_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">ensure-directory-pathname</strong> <var class="def-var-arguments">pathspec &amp;optional  on-error</var><a class="copiable-link" href="#index-ensure_002ddirectory_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aensure_002ddirectory_002dpathname"></a>
<p>Converts the non-wild pathname designator <code class="code">pathspec</code> to directory form.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aensure_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-ensure_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">ensure-pathname</strong> <var class="def-var-arguments">pathname
 &amp;key  on-error defaults type dot-dot namestring empty-is-nil 
want-pathname want-logical want-physical ensure-physical want-relative 
want-absolute ensure-absolute ensure-subpath want-non-wild want-wild 
wilden want-file want-directory ensure-directory want-existing 
ensure-directories-exist truename resolve-symlinks truenamize &amp;aux p</var><a class="copiable-link" href="#index-ensure_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aensure_002dpathname"></a>
<p>Coerces its argument into a <code class="code">pathname</code>,
optionally doing some transformations and checking specified constraints.
</p>
<p>If the argument is <code class="code">nil</code>, then <code class="code">nil</code> is returned unless the <code class="code">want-pathname</code> constraint is specified.
</p>
<p>If the argument is a <code class="code">string</code>, it is first converted to a pathname via
<code class="code">parse-unix-namestring</code>, <code class="code">parse-namestring</code> or <code class="code">parse-native-namestring</code> respectively
depending on the <code class="code">namestring</code> argument being <code class="code">:unix</code>, <code class="code">:lisp</code> or <code class="code">:native</code> respectively,
or else by using <code class="code">call-function</code> on the <code class="code">namestring</code> argument;
if <code class="code">:unix</code> is specified (or <code class="code">nil</code>, the default, which specifies the same thing),
then <code class="code">parse-unix-namestring</code> it is called with the keywords
<code class="code">defaults</code> <code class="code">type</code> <code class="code">dot-dot</code> <code class="code">ensure-directory</code> <code class="code">want-relative</code>, and
the result is optionally merged into the <code class="code">defaults</code> if <code class="code">ensure-absolute</code> is true.
</p>
<p>The pathname passed or resulting from parsing the string
is then subjected to all the checks and transformations below are run.
</p>
<p>Each non-nil constraint argument can be one of the symbols <code class="code">t</code>, <code class="code">error</code>, <code class="code">cerror</code> or <code class="code">ignore</code>.
The boolean <code class="code">t</code> is an alias for <code class="code">error</code>.
<code class="code">error</code> means that an error will be raised if the constraint is not satisfied.
<code class="code">cerror</code> means that an continuable error will be raised if the constraint is not satisfied.
<code class="code">ignore</code> means just return <code class="code">nil</code> instead of the pathname.
</p>
<p>The <code class="code">on-error</code> argument, if not <code class="code">nil</code>, is a function designator (as per <code class="code">call-function</code>)
that will be called with the the following arguments:
a generic format string for ensure pathname, the pathname,
the keyword argument corresponding to the failed check or transformation,
a format string for the reason <code class="code">ensure-pathname</code> failed,
and a list with arguments to that format string.
If <code class="code">on-error</code> is <code class="code">nil</code>, <code class="code">error</code> is used instead, which does the right thing.
You could also pass (<code class="code">cerror</code> "<code class="code">continue</code> <code class="code">despite</code> <code class="code">failed</code> <code class="code">check</code>").
</p>
<p>The transformations and constraint checks are done in this order,
which is also the order in the lambda-list:
</p>
<p><code class="code">empty-is-nil</code> returns <code class="code">nil</code> if the argument is an empty string.
<code class="code">want-pathname</code> checks that pathname (after parsing if needed) is not null.
Otherwise, if the pathname is <code class="code">nil</code>, ensure-pathname returns <code class="code">nil</code>.
<code class="code">want-logical</code> checks that pathname is a <code class="code">logical-pathname</code>
<code class="code">want-physical</code> checks that pathname is not a <code class="code">logical-pathname</code>
<code class="code">ensure-physical</code> ensures that pathname is physical via <code class="code">translate-logical-pathname</code>
<code class="code">want-relative</code> checks that pathname has a relative directory component
<code class="code">want-absolute</code> checks that pathname does have an absolute directory component
<code class="code">ensure-absolute</code> merges with the <code class="code">defaults</code>, then checks again
that the result absolute is an absolute pathname indeed.
<code class="code">ensure-subpath</code> checks that the pathname is a subpath of the <code class="code">defaults</code>.
<code class="code">want-file</code> checks that pathname has a non-nil <code class="code">file</code> component
<code class="code">want-directory</code> checks that pathname has nil <code class="code">file</code> and <code class="code">type</code> components
<code class="code">ensure-directory</code> uses <code class="code">ensure-directory-pathname</code> to interpret
any file and type components as being actually a last directory component.
<code class="code">want-non-wild</code> checks that pathname is not a wild pathname
<code class="code">want-wild</code> checks that pathname is a wild pathname
<code class="code">wilden</code> merges the pathname with **/*.<code class="code">*</code>.<code class="code">*</code> if it is not wild
<code class="code">want-existing</code> checks that a file (or directory) exists with that pathname.
<code class="code">ensure-directories-exist</code> creates any parent directory with <code class="code">ensure-directories-exist</code>.
<code class="code">truename</code> replaces the pathname by its truename, or errors if not possible.
<code class="code">resolve-symlinks</code> replaces the pathname by a variant with symlinks resolved by <code class="code">resolve-symlinks</code>.
<code class="code">truenamize</code> uses <code class="code">truenamize</code> to resolve as many symlinks as possible.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003afile_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-file_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-pathname-p</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-file_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003afile_002dpathname_002dp"></a>
<p>Does <code class="code">pathname</code> represent a file, i.e. has a non-null <code class="code">name</code> component?
</p>
<p>Accepts <code class="code">nil</code>, a string (converted through <code class="code">parse-namestring</code>) or a <code class="code">pathname</code>.
</p>
<p>Note that this does _not_ check to see that <code class="code">pathname</code> points to an
actually-existing file.
</p>
<p>Returns the (parsed) <code class="code">pathname</code> when true
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003ahidden_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-hidden_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">hidden-pathname-p</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-hidden_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003ahidden_002dpathname_002dp"></a>
<p>Return a boolean that is true if the pathname is hidden as per Unix style,
i.e. its name starts with a dot.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003alogical_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-logical_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">logical-pathname-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-logical_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003alogical_002dpathname_002dp"></a>
<p>is <code class="code">x</code> a logical-pathname?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003amake_002dpathname_002dcomponent_002dlogical"></a><dl class="first-deffn">
<dt class="deffn" id="index-make_002dpathname_002dcomponent_002dlogical"><span class="category-def">Function: </span><span><strong class="def-name">make-pathname-component-logical</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-make_002dpathname_002dcomponent_002dlogical"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003amake_002dpathname_002dcomponent_002dlogical"></a>
<p>Make a pathname component suitable for use in a logical-pathname
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003amake_002dpathname_002dlogical"></a><dl class="first-deffn">
<dt class="deffn" id="index-make_002dpathname_002dlogical"><span class="category-def">Function: </span><span><strong class="def-name">make-pathname-logical</strong> <var class="def-var-arguments">pathname host</var><a class="copiable-link" href="#index-make_002dpathname_002dlogical"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003amake_002dpathname_002dlogical"></a>
<p>Take a <code class="code">pathname</code>’s directory, name, type and version components,
and make a new pathname with corresponding components and specified logical <code class="code">host</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003amake_002dpathname_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-make_002dpathname_002a"><span class="category-def">Function: </span><span><strong class="def-name">make-pathname*</strong> <var class="def-var-arguments">&amp;rest  keys &amp;key  directory host device name type version defaults</var><a class="copiable-link" href="#index-make_002dpathname_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003amake_002dpathname_002a"></a>
<p>Takes arguments like <code class="code">cl:make-pathname</code> in the CLHS, and
   tries hard to make a pathname that will actually behave as documented,
   despite the peculiarities of each implementation. <code class="code">deprecated:</code> just use <code class="code">make-pathname</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003amerge_002dpathname_002ddirectory_002dcomponents"></a><dl class="first-deffn">
<dt class="deffn" id="index-merge_002dpathname_002ddirectory_002dcomponents"><span class="category-def">Function: </span><span><strong class="def-name">merge-pathname-directory-components</strong> <var class="def-var-arguments">specified defaults</var><a class="copiable-link" href="#index-merge_002dpathname_002ddirectory_002dcomponents"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003amerge_002dpathname_002ddirectory_002dcomponents"></a>
<p>Helper for <code class="code">merge-pathnames*</code> that handles directory components
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003amerge_002dpathnames_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-merge_002dpathnames_002a"><span class="category-def">Function: </span><span><strong class="def-name">merge-pathnames*</strong> <var class="def-var-arguments">specified &amp;optional  defaults</var><a class="copiable-link" href="#index-merge_002dpathnames_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003amerge_002dpathnames_002a"></a>
<p><code class="code">merge-pathnames*</code> is like <code class="code">merge-pathnames</code> except that
if the <code class="code">specified</code> pathname does not have an absolute directory,
then the <code class="code">host</code> and <code class="code">device</code> both come from the <code class="code">defaults</code>, whereas
if the <code class="code">specified</code> pathname does have an absolute directory,
then the <code class="code">host</code> and <code class="code">device</code> both come from the <code class="code">specified</code> pathname.
This is what users want on a modern Unix or Windows operating system,
unlike the <code class="code">merge-pathnames</code> behavior.
Also, if either argument is <code class="code">nil</code>, then the other argument is returned unmodified;
this is unlike <code class="code">merge-pathnames</code> which always merges with a pathname,
by default <code class="code">*default-pathname-defaults*</code>, which cannot be <code class="code">nil</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003anil_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-nil_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">nil-pathname</strong> <var class="def-var-arguments">&amp;optional  defaults</var><a class="copiable-link" href="#index-nil_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003anil_002dpathname"></a>
<p>A pathname that is as neutral as possible for use as defaults
when merging, making or parsing pathnames
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003anormalize_002dpathname_002ddirectory_002dcomponent"></a><dl class="first-deffn">
<dt class="deffn" id="index-normalize_002dpathname_002ddirectory_002dcomponent"><span class="category-def">Function: </span><span><strong class="def-name">normalize-pathname-directory-component</strong> <var class="def-var-arguments">directory</var><a class="copiable-link" href="#index-normalize_002dpathname_002ddirectory_002dcomponent"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003anormalize_002dpathname_002ddirectory_002dcomponent"></a>
<p>Convert the <code class="code">directory</code> component from a format usable by the underlying
implementation’s <code class="code">make-pathname</code> and other primitives to a CLHS-standard format
that is a list and not a string.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aparse_002dunix_002dnamestring"></a><dl class="first-deffn">
<dt class="deffn" id="index-parse_002dunix_002dnamestring"><span class="category-def">Function: </span><span><strong class="def-name">parse-unix-namestring</strong> <var class="def-var-arguments">name &amp;rest  keys &amp;key  type defaults dot-dot ensure-directory &amp;allow-other-keys </var><a class="copiable-link" href="#index-parse_002dunix_002dnamestring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aparse_002dunix_002dnamestring"></a>
<p>Coerce <code class="code">name</code> into a <code class="code">pathname</code> using standard Unix syntax.
</p>
<p>Unix syntax is used whether or not the underlying system is Unix;
on such non-Unix systems it is reliably usable only for relative pathnames.
This function is especially useful to manipulate relative pathnames portably,
where it is crucial to possess a portable pathname syntax independent of the underlying OS.
This is what <code class="code">parse-unix-namestring</code> provides, and why we use it in ASDF.
</p>
<p>When given a <code class="code">pathname</code> object, just return it untouched.
When given <code class="code">nil</code>, just return <code class="code">nil</code>.
When given a non-null <code class="code">symbol</code>, first downcase its name and treat it as a string.
When given a <code class="code">string</code>, portably decompose it into a pathname as below.
</p>
<p>#\/ separates directory components.
</p>
<p>The last #\/-separated substring is interpreted as follows:
<code class="code">1-</code> If <code class="code">type</code> is <code class="code">:directory</code> or <code class="code">ensure-directory</code> is true,
 the string is made the last directory component, and <code class="code">name</code> and <code class="code">type</code> are <code class="code">nil</code>.
 if the string is empty, it’s the empty pathname with all slots <code class="code">nil</code>.
<code class="code">2-</code> If <code class="code">type</code> is <code class="code">nil</code>, the substring is a file-namestring, and its <code class="code">name</code> and <code class="code">type</code>
 are separated by <code class="code">split-name-type</code>.
<code class="code">3-</code> If <code class="code">type</code> is a string, it is the given <code class="code">type</code>, and the whole string is the <code class="code">name</code>.
</p>
<p>Directory components with an empty name or the name "." are removed.
Any directory named ".." is read as <code class="code">dot-dot</code>,
which must be one of <code class="code">:back</code> or <code class="code">:up</code> and defaults to <code class="code">:back</code>.
</p>
<p><code class="code">host</code>, <code class="code">device</code> and <code class="code">version</code> components are taken from <code class="code">defaults</code>,
which itself defaults to <code class="code">*nil-pathname*</code>, also used if <code class="code">defaults</code> is <code class="code">nil</code>.
No host or device can be specified in the string itself,
which makes it unsuitable for absolute pathnames outside Unix.
</p>
<p>For relative pathnames, these components (and hence the defaults) won’t matter
if you use <code class="code">merge-pathnames*</code> but will matter if you use <code class="code">merge-pathnames</code>,
which is an important reason to always use <code class="code">merge-pathnames*</code>.
</p>
<p>Arbitrary keys are accepted, and the parse result is passed to <code class="code">ensure-pathname</code>
with those keys, removing <code class="code">type</code> <code class="code">defaults</code> and <code class="code">dot-dot</code>.
When you’re manipulating pathnames that are supposed to make sense portably
even though the OS may not be Unixish, we recommend you use <code class="code">:want-relative</code> <code class="code">t</code>
to throw an error if the pathname is absolute
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003apathname_002ddirectory_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-pathname_002ddirectory_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">pathname-directory-pathname</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-pathname_002ddirectory_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003apathname_002ddirectory_002dpathname"></a>
<p>Returns a new pathname with same <code class="code">host</code>, <code class="code">device</code>, <code class="code">directory</code> as <code class="code">pathname</code>,
and <code class="code">nil</code> <code class="code">name</code>, <code class="code">type</code> and <code class="code">version</code> components
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003apathname_002dequal"></a><dl class="first-deffn">
<dt class="deffn" id="index-pathname_002dequal"><span class="category-def">Function: </span><span><strong class="def-name">pathname-equal</strong> <var class="def-var-arguments">p1 p2</var><a class="copiable-link" href="#index-pathname_002dequal"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003apathname_002dequal"></a>
<p>Are the two pathnames <code class="code">p1</code> and <code class="code">p2</code> reasonably equal in the paths they denote?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003apathname_002dhost_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-pathname_002dhost_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">pathname-host-pathname</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-pathname_002dhost_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003apathname_002dhost_002dpathname"></a>
<p>return a pathname with the same host as given <code class="code">pathname</code>, and all other fields <code class="code">nil</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003apathname_002dparent_002ddirectory_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-pathname_002dparent_002ddirectory_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">pathname-parent-directory-pathname</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-pathname_002dparent_002ddirectory_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003apathname_002dparent_002ddirectory_002dpathname"></a>
<p>Returns a new pathname that corresponds to the parent of the current pathname’s directory,
i.e. removing one level of depth in the <code class="code">directory</code> component. e.g. if pathname is
Unix pathname /foo/bar/baz/file.type then return /foo/bar/
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003apathname_002droot"></a><dl class="first-deffn">
<dt class="deffn" id="index-pathname_002droot"><span class="category-def">Function: </span><span><strong class="def-name">pathname-root</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-pathname_002droot"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003apathname_002droot"></a>
<p>return the root directory for the host and device of given <code class="code">pathname</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aphysical_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-physical_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">physical-pathname-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-physical_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aphysical_002dpathname_002dp"></a>
<p>is <code class="code">x</code> a pathname that is not a logical-pathname?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aphysicalize_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-physicalize_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">physicalize-pathname</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-physicalize_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aphysicalize_002dpathname"></a>
<p>if <code class="code">x</code> is a logical pathname, use translate-logical-pathname on it.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003arelative_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-relative_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">relative-pathname-p</strong> <var class="def-var-arguments">pathspec</var><a class="copiable-link" href="#index-relative_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003arelative_002dpathname_002dp"></a>
<p>If <code class="code">pathspec</code> is a pathname or namestring object that parses as a pathname
possessing a <code class="code">:relative</code> or <code class="code">nil</code> directory component, return the (parsed) pathname.
Otherwise return <code class="code">nil</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003arelativize_002ddirectory_002dcomponent"></a><dl class="first-deffn">
<dt class="deffn" id="index-relativize_002ddirectory_002dcomponent"><span class="category-def">Function: </span><span><strong class="def-name">relativize-directory-component</strong> <var class="def-var-arguments">directory-component</var><a class="copiable-link" href="#index-relativize_002ddirectory_002dcomponent"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003arelativize_002ddirectory_002dcomponent"></a>
<p>Given the <code class="code">directory-component</code> of a pathname, return an otherwise similar relative directory component
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003arelativize_002dpathname_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-relativize_002dpathname_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">relativize-pathname-directory</strong> <var class="def-var-arguments">pathspec</var><a class="copiable-link" href="#index-relativize_002dpathname_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003arelativize_002dpathname_002ddirectory"></a>
<p>Given a <code class="code">pathname</code>, return a relative pathname with otherwise the same components
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003asplit_002dname_002dtype"></a><dl class="first-deffn">
<dt class="deffn" id="index-split_002dname_002dtype"><span class="category-def">Function: </span><span><strong class="def-name">split-name-type</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-split_002dname_002dtype"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003asplit_002dname_002dtype"></a>
<p>Split a filename into two values <code class="code">name</code> and <code class="code">type</code> that are returned.
We assume filename has no directory component.
The last . if any separates name and type from from type,
except that if there is only one . and it is in first position,
the whole filename is the <code class="code">name</code> with an empty type.
<code class="code">name</code> is always a string.
For an empty type, <code class="code">*unspecific-pathname-type*</code> is returned.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003asplit_002dunix_002dnamestring_002ddirectory_002dcomponents"></a><dl class="first-deffn">
<dt class="deffn" id="index-split_002dunix_002dnamestring_002ddirectory_002dcomponents"><span class="category-def">Function: </span><span><strong class="def-name">split-unix-namestring-directory-components</strong> <var class="def-var-arguments">unix-namestring &amp;key  ensure-directory dot-dot</var><a class="copiable-link" href="#index-split_002dunix_002dnamestring_002ddirectory_002dcomponents"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003asplit_002dunix_002dnamestring_002ddirectory_002dcomponents"></a>
<p>Splits the path string <code class="code">unix-namestring</code>, returning four values:
A flag that is either :absolute or :relative, indicating
   how the rest of the values are to be interpreted.
A directory path <code class="code">---</code> a list of strings and keywords, suitable for
   use with <code class="code">make-pathname</code> when prepended with the flag value.
   Directory components with an empty name or the name . are removed.
   Any directory named .. is read as <code class="code">dot-dot</code>, or <code class="code">:back</code> if it’s <code class="code">nil</code> (not <code class="code">:up</code>).
A last-component, either a file-namestring including type extension,
   or <code class="code">nil</code> in the case of a directory pathname.
A flag that is true iff the unix-style-pathname was just
   a file-namestring without / path specification.
<code class="code">ensure-directory</code> forces the namestring to be interpreted as a directory pathname:
the third return value will be <code class="code">nil</code>, and final component of the namestring
will be treated as part of the directory path.
</p>
<p>An empty string is thus read as meaning a pathname object with all fields nil.
</p>
<p>Note that colon characters <code class="code">#:</code> will <code class="code">not</code> be interpreted as host specification.
Absolute pathnames are only appropriate on Unix-style systems.
</p>
<p>The intention of this function is to support structured component names,
e.g., (:file "foo/bar"), which will be unpacked to relative pathnames.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003asubpathname_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-subpathname_002a"><span class="category-def">Function: </span><span><strong class="def-name">subpathname*</strong> <var class="def-var-arguments">pathname subpath &amp;key  type</var><a class="copiable-link" href="#index-subpathname_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003asubpathname_002a"></a>
<p>returns <code class="code">nil</code> if the base pathname is <code class="code">nil</code>, otherwise like <code class="code">subpathname</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003asubpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-subpathname"><span class="category-def">Function: </span><span><strong class="def-name">subpathname</strong> <var class="def-var-arguments">pathname subpath &amp;key  type</var><a class="copiable-link" href="#index-subpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003asubpathname"></a>
<p>This function takes a <code class="code">pathname</code> and a <code class="code">subpath</code> and a <code class="code">type</code>.
If <code class="code">subpath</code> is already a <code class="code">pathname</code> object (not namestring),
and is an absolute pathname at that, it is returned unchanged;
otherwise, <code class="code">subpath</code> is turned into a relative pathname with given <code class="code">type</code>
as per <code class="code">parse-unix-namestring</code> with <code class="code">:want-relative</code> <code class="code">t</code> <code class="code">:type</code> <code class="code">type</code>,
then it is merged with the <code class="code">pathname-directory-pathname</code> of <code class="code">pathname</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003asubpathp"></a><dl class="first-deffn">
<dt class="deffn" id="index-subpathp"><span class="category-def">Function: </span><span><strong class="def-name">subpathp</strong> <var class="def-var-arguments">maybe-subpath base-pathname</var><a class="copiable-link" href="#index-subpathp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003asubpathp"></a>
<p>if <code class="code">maybe-subpath</code> is a pathname that is under <code class="code">base-pathname</code>, return a pathname object that
when used with <code class="code">merge-pathnames*</code> with defaults <code class="code">base-pathname</code>, returns <code class="code">maybe-subpath</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003atranslate_002dpathname_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-translate_002dpathname_002a"><span class="category-def">Function: </span><span><strong class="def-name">translate-pathname*</strong> <var class="def-var-arguments">path absolute-source destination &amp;optional  root source</var><a class="copiable-link" href="#index-translate_002dpathname_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003atranslate_002dpathname_002a"></a>
<p>A wrapper around <code class="code">translate-pathname</code> to be used by the ASDF output-translations facility.
<code class="code">path</code> is the pathname to be translated.
<code class="code">absolute-source</code> is an absolute pathname to use as source for translate-pathname,
<code class="code">destination</code> is either a function, to be called with <code class="code">path</code> and <code class="code">absolute-source</code>,
or a relative pathname, to be merged with <code class="code">root</code> and used as destination for translate-pathname
or an absolute pathname, to be used as destination for translate-pathname.
In that last case, if <code class="code">root</code> is non-NIL, <code class="code">path</code> is first transformated by <code class="code">directorize-pathname-host-device</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003aunix_002dnamestring"></a><dl class="first-deffn">
<dt class="deffn" id="index-unix_002dnamestring"><span class="category-def">Function: </span><span><strong class="def-name">unix-namestring</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-unix_002dnamestring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003aunix_002dnamestring"></a>
<p>Given a non-wild <code class="code">pathname</code>, return a Unix-style namestring for it.
If the <code class="code">pathname</code> is <code class="code">nil</code> or a <code class="code">string</code>, return it unchanged.
</p>
<p>This only considers the <code class="code">directory</code>, <code class="code">name</code> and <code class="code">type</code> components of the pathname.
This is a portable solution for representing relative pathnames,
But unless you are running on a Unix system, it is not a general solution
to representing native pathnames.
</p>
<p>An error is signaled if the argument is not <code class="code">null</code>, a <code class="code">string</code> or a <code class="code">pathname</code>,
or if it is a <code class="code">pathname</code> but some of its components are not recognized.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fpathname_003awilden"></a><dl class="first-deffn">
<dt class="deffn" id="index-wilden"><span class="category-def">Function: </span><span><strong class="def-name">wilden</strong> <var class="def-var-arguments">path</var><a class="copiable-link" href="#index-wilden"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003awilden"></a>
<p>From a pathname, return a wildcard pathname matching any file in any subdirectory of given pathname’s directory
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fpathname_003awith_002denough_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002denough_002dpathname"><span class="category-def">Macro: </span><span><strong class="def-name">with-enough-pathname</strong> <var class="def-var-arguments">(pathname-var &amp;key pathname defaults) &amp;body  body</var><a class="copiable-link" href="#index-with_002denough_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003awith_002denough_002dpathname"></a>
<p>Shorthand syntax for <code class="code">call-with-enough-pathname</code>
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fpathname_003awith_002dpathname_002ddefaults"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dpathname_002ddefaults"><span class="category-def">Macro: </span><span><strong class="def-name">with-pathname-defaults</strong> <var class="def-var-arguments">(&amp;optional defaults) &amp;body  body</var><a class="copiable-link" href="#index-with_002dpathname_002ddefaults"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003awith_002dpathname_002ddefaults"></a>
<p>Execute <code class="code">body</code> in a context where the <code class="code">*default-pathname-defaults*</code> is as specified,
where leaving the defaults <code class="code">nil</code> or unspecified means a (<code class="code">nil-pathname</code>), except
on ABCL, Genera and XCL, where it remains unchanged for it doubles as current-directory.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002anil_002dpathname_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002anil_002dpathname_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*nil-pathname*</strong><a class="copiable-link" href="#index-_002anil_002dpathname_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002anil_002dpathname_002a"></a>
<p>A pathname that is as neutral as possible for use as defaults
when merging, making or parsing pathnames
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002aoutput_002dtranslation_002dfunction_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aoutput_002dtranslation_002dfunction_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*output-translation-function*</strong><a class="copiable-link" href="#index-_002aoutput_002dtranslation_002dfunction_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002aoutput_002dtranslation_002dfunction_002a"></a>
<p>Hook for output translations.
</p>
<p>This function needs to be idempotent, so that actions can work
whether their inputs were translated or not,
which they will be if we are composing operations. e.g. if some
create-lisp-op creates a lisp file from some higher-level input,
you need to still be able to use compile-op on that lisp file.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002aunspecific_002dpathname_002dtype_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aunspecific_002dpathname_002dtype_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*unspecific-pathname-type*</strong><a class="copiable-link" href="#index-_002aunspecific_002dpathname_002dtype_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002aunspecific_002dpathname_002dtype_002a"></a>
<p>Unspecific type component to use with the underlying implementation’s <code class="code">make-pathname</code>
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002awild_002ddirectory_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awild_002ddirectory_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*wild-directory*</strong><a class="copiable-link" href="#index-_002awild_002ddirectory_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002awild_002ddirectory_002a"></a>
<p>A pathname object with wildcards for matching any subdirectory
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002awild_002dfile_002dfor_002ddirectory_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awild_002dfile_002dfor_002ddirectory_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*wild-file-for-directory*</strong><a class="copiable-link" href="#index-_002awild_002dfile_002dfor_002ddirectory_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002awild_002dfile_002dfor_002ddirectory_002a"></a>
<p>A pathname object with wildcards for matching any file with <code class="code">directory</code>
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002awild_002dfile_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awild_002dfile_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*wild-file*</strong><a class="copiable-link" href="#index-_002awild_002dfile_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002awild_002dfile_002a"></a>
<p>A pathname object with wildcards for matching any file with <code class="code">translate-pathname</code>
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002awild_002dinferiors_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awild_002dinferiors_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*wild-inferiors*</strong><a class="copiable-link" href="#index-_002awild_002dinferiors_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002awild_002dinferiors_002a"></a>
<p>A pathname object with wildcards for matching any recursive subdirectory
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002awild_002dpath_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awild_002dpath_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*wild-path*</strong><a class="copiable-link" href="#index-_002awild_002dpath_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002awild_002dpath_002a"></a>
<p>A pathname object with wildcards for matching any file in any recursive subdirectory
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fpathname_003a_002awild_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awild_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*wild*</strong><a class="copiable-link" href="#index-_002awild_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fpathname_003a_002awild_002a"></a>
<p>Wild component for use with <code class="code">make-pathname</code>
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fFILESYSTEM">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fSTREAM" accesskey="n" rel="next">UIOP/STREAM</a>, Previous: <a href="#UIOP_002fPATHNAME" accesskey="p" rel="prev">UIOP/PATHNAME</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fFILESYSTEM-1"><span>8 UIOP/FILESYSTEM<a class="copiable-link" href="#UIOP_002fFILESYSTEM-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002ffilesystem_003acall_002dwith_002dcurrent_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dcurrent_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">call-with-current-directory</strong> <var class="def-var-arguments">dir thunk</var><a class="copiable-link" href="#index-call_002dwith_002dcurrent_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003acall_002dwith_002dcurrent_002ddirectory"></a>
<p>call the <code class="code">thunk</code> in a context where the current directory was changed to <code class="code">dir</code>, if not <code class="code">nil</code>.
Note that this operation is usually <code class="code">not</code> thread-safe.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003acollect_002dsub_002adirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-collect_002dsub_002adirectories"><span class="category-def">Function: </span><span><strong class="def-name">collect-sub*directories</strong> <var class="def-var-arguments">directory collectp recursep collector</var><a class="copiable-link" href="#index-collect_002dsub_002adirectories"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003acollect_002dsub_002adirectories"></a>
<p>Given a <code class="code">directory</code>, when <code class="code">collectp</code> returns true when <code class="code">call-function</code>’ed with the directory,
call-function the <code class="code">collector</code> function designator on the directory,
and recurse each of its subdirectories on which the <code class="code">recursep</code> returns true when <code class="code">call-function</code>’ed with them.
This function will thus let you traverse a filesystem hierarchy,
superseding the functionality of <code class="code">cl-fad:walk-directory</code>.
The behavior in presence of symlinks is not portable. Use IOlib to handle such situations.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003adelete_002ddirectory_002dtree"></a><dl class="first-deffn">
<dt class="deffn" id="index-delete_002ddirectory_002dtree"><span class="category-def">Function: </span><span><strong class="def-name">delete-directory-tree</strong> <var class="def-var-arguments">directory-pathname &amp;key  validate if-does-not-exist</var><a class="copiable-link" href="#index-delete_002ddirectory_002dtree"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003adelete_002ddirectory_002dtree"></a>
<p>Delete a directory including all its recursive contents, aka rm -rf.
</p>
<p>To reduce the risk of infortunate mistakes, <code class="code">directory-pathname</code> must be
a physical non-wildcard directory pathname (not namestring).
</p>
<p>If the directory does not exist, the <code class="code">if-does-not-exist</code> argument specifies what happens:
if it is <code class="code">:error</code> (the default), an error is signaled, whereas if it is <code class="code">:ignore</code>, nothing is done.
</p>
<p>Furthermore, before any deletion is attempted, the <code class="code">directory-pathname</code> must pass
the validation function designated (as per <code class="code">ensure-function</code>) by the <code class="code">validate</code> keyword argument
which in practice is thus compulsory, and validates by returning a non-NIL result.
If you’re suicidal or extremely confident, just use <code class="code">:validate</code> <code class="code">t</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003adelete_002dempty_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-delete_002dempty_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">delete-empty-directory</strong> <var class="def-var-arguments">directory-pathname</var><a class="copiable-link" href="#index-delete_002dempty_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003adelete_002dempty_002ddirectory"></a>
<p>Delete an empty directory
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003adelete_002dfile_002dif_002dexists"></a><dl class="first-deffn">
<dt class="deffn" id="index-delete_002dfile_002dif_002dexists"><span class="category-def">Function: </span><span><strong class="def-name">delete-file-if-exists</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-delete_002dfile_002dif_002dexists"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003adelete_002dfile_002dif_002dexists"></a>
<p>Delete a file <code class="code">x</code> if it already exists
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003adirectory_002dexists_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-directory_002dexists_002dp"><span class="category-def">Function: </span><span><strong class="def-name">directory-exists-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-directory_002dexists_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003adirectory_002dexists_002dp"></a>
<p>Is <code class="code">x</code> the name of a directory that exists on the filesystem?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003adirectory_002dfiles"></a><dl class="first-deffn">
<dt class="deffn" id="index-directory_002dfiles"><span class="category-def">Function: </span><span><strong class="def-name">directory-files</strong> <var class="def-var-arguments">directory &amp;optional  pattern</var><a class="copiable-link" href="#index-directory_002dfiles"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003adirectory_002dfiles"></a>
<p>Return a list of the files in a directory according to the <code class="code">pattern</code>.
Subdirectories should <code class="code">not</code> be returned.
  <code class="code">pattern</code> defaults to a pattern carefully chosen based on the implementation;
override the default at your own risk.
  <code class="code">directory-files</code> tries <code class="code">not</code> to resolve symlinks if the implementation permits this,
but the behavior in presence of symlinks is not portable. Use IOlib to handle such situations.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003adirectory_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-directory_002a"><span class="category-def">Function: </span><span><strong class="def-name">directory*</strong> <var class="def-var-arguments">pathname-spec &amp;rest  keys &amp;key  &amp;allow-other-keys </var><a class="copiable-link" href="#index-directory_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003adirectory_002a"></a>
<p>Return a list of the entries in a directory by calling <code class="code">directory</code>.
Try to override the defaults to not resolving symlinks, if implementation allows.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003aensure_002dall_002ddirectories_002dexist"></a><dl class="first-deffn">
<dt class="deffn" id="index-ensure_002dall_002ddirectories_002dexist"><span class="category-def">Function: </span><span><strong class="def-name">ensure-all-directories-exist</strong> <var class="def-var-arguments">pathnames</var><a class="copiable-link" href="#index-ensure_002dall_002ddirectories_002dexist"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003aensure_002dall_002ddirectories_002dexist"></a>
<p>Ensure that for every pathname in <code class="code">pathnames</code>, we ensure its directories exist
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003afile_002dexists_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-file_002dexists_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-exists-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-file_002dexists_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003afile_002dexists_002dp"></a>
<p>Is <code class="code">x</code> the name of a file that exists on the filesystem?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003afilter_002dlogical_002ddirectory_002dresults"></a><dl class="first-deffn">
<dt class="deffn" id="index-filter_002dlogical_002ddirectory_002dresults"><span class="category-def">Function: </span><span><strong class="def-name">filter-logical-directory-results</strong> <var class="def-var-arguments">directory entries merger</var><a class="copiable-link" href="#index-filter_002dlogical_002ddirectory_002dresults"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003afilter_002dlogical_002ddirectory_002dresults"></a>
<p>If <code class="code">directory</code> isn’t a logical pathname, return <code class="code">entries</code>. If it is,
given <code class="code">entries</code> in the <code class="code">directory</code>, remove the entries which are physical yet
when transformed by <code class="code">merger</code> have a different <code class="code">truename</code>.
Also remove duplicates as may appear with some translation rules.
This function is used as a helper to <code class="code">directory-files</code> to avoid invalid entries
when using logical-pathnames.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003aget_002dpathname_002ddefaults"></a><dl class="first-deffn">
<dt class="deffn" id="index-get_002dpathname_002ddefaults"><span class="category-def">Function: </span><span><strong class="def-name">get-pathname-defaults</strong> <var class="def-var-arguments">&amp;optional  defaults</var><a class="copiable-link" href="#index-get_002dpathname_002ddefaults"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003aget_002dpathname_002ddefaults"></a>
<p>Find the actual <code class="code">defaults</code> to use for pathnames, including
resolving them with respect to <code class="code">getcwd</code> if the <code class="code">defaults</code> were relative
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003agetenv_002dabsolute_002ddirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenv_002dabsolute_002ddirectories"><span class="category-def">Function: </span><span><strong class="def-name">getenv-absolute-directories</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-getenv_002dabsolute_002ddirectories"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003agetenv_002dabsolute_002ddirectories"></a>
<p>Extract a list of absolute directories from a user-configured environment variable,
as per native OS.  Any empty entries in the environment variable <code class="code">x</code> will be returned as
NILs.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003agetenv_002dabsolute_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenv_002dabsolute_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">getenv-absolute-directory</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-getenv_002dabsolute_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003agetenv_002dabsolute_002ddirectory"></a>
<p>Extract an absolute directory pathname from a user-configured environment variable,
as per native OS
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003agetenv_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenv_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">getenv-pathname</strong> <var class="def-var-arguments">x &amp;rest  constraints &amp;key  ensure-directory want-directory on-error &amp;allow-other-keys </var><a class="copiable-link" href="#index-getenv_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003agetenv_002dpathname"></a>
<p>Extract a pathname from a user-configured environment variable, as per native OS,
check constraints and normalize as per <code class="code">ensure-pathname</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003agetenv_002dpathnames"></a><dl class="first-deffn">
<dt class="deffn" id="index-getenv_002dpathnames"><span class="category-def">Function: </span><span><strong class="def-name">getenv-pathnames</strong> <var class="def-var-arguments">x &amp;rest  constraints &amp;key  on-error &amp;allow-other-keys </var><a class="copiable-link" href="#index-getenv_002dpathnames"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003agetenv_002dpathnames"></a>
<p>Extract a list of pathname from a user-configured environment variable, as per native OS,
check constraints and normalize each one as per <code class="code">ensure-pathname</code>.
       Any empty entries in the environment variable <code class="code">x</code> will be returned as NILs.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003ainter_002ddirectory_002dseparator"></a><dl class="first-deffn">
<dt class="deffn" id="index-inter_002ddirectory_002dseparator"><span class="category-def">Function: </span><span><strong class="def-name">inter-directory-separator</strong><a class="copiable-link" href="#index-inter_002ddirectory_002dseparator"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003ainter_002ddirectory_002dseparator"></a>
<p>What character does the current OS conventionally uses to separate directories?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003alisp_002dimplementation_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-lisp_002dimplementation_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">lisp-implementation-directory</strong> <var class="def-var-arguments">&amp;key  truename</var><a class="copiable-link" href="#index-lisp_002dimplementation_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003alisp_002dimplementation_002ddirectory"></a>
<p>Where are the system files of the current installation of the CL implementation?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003alisp_002dimplementation_002dpathname_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-lisp_002dimplementation_002dpathname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">lisp-implementation-pathname-p</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-lisp_002dimplementation_002dpathname_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003alisp_002dimplementation_002dpathname_002dp"></a>
<p>Is the <code class="code">pathname</code> under the current installation of the CL implementation?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003anative_002dnamestring"></a><dl class="first-deffn">
<dt class="deffn" id="index-native_002dnamestring"><span class="category-def">Function: </span><span><strong class="def-name">native-namestring</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-native_002dnamestring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003anative_002dnamestring"></a>
<p>From a non-wildcard CL pathname, a return namestring suitable for passing to the operating system
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003aparse_002dnative_002dnamestring"></a><dl class="first-deffn">
<dt class="deffn" id="index-parse_002dnative_002dnamestring"><span class="category-def">Function: </span><span><strong class="def-name">parse-native-namestring</strong> <var class="def-var-arguments">string &amp;rest  constraints &amp;key  ensure-directory &amp;allow-other-keys </var><a class="copiable-link" href="#index-parse_002dnative_002dnamestring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003aparse_002dnative_002dnamestring"></a>
<p>From a native namestring suitable for use by the operating system, return
a CL pathname satisfying all the specified constraints as per <code class="code">ensure-pathname</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003aprobe_002dfile_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-probe_002dfile_002a"><span class="category-def">Function: </span><span><strong class="def-name">probe-file*</strong> <var class="def-var-arguments">p &amp;key  truename</var><a class="copiable-link" href="#index-probe_002dfile_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003aprobe_002dfile_002a"></a>
<p>when given a pathname <code class="code">p</code> (designated by a string as per <code class="code">parse-namestring</code>),
probes the filesystem for a file or directory with given pathname.
If it exists, return its truename if <code class="code">truename</code> is true,
or the original (parsed) pathname if it is false (the default).
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003arename_002dfile_002doverwriting_002dtarget"></a><dl class="first-deffn">
<dt class="deffn" id="index-rename_002dfile_002doverwriting_002dtarget"><span class="category-def">Function: </span><span><strong class="def-name">rename-file-overwriting-target</strong> <var class="def-var-arguments">source target</var><a class="copiable-link" href="#index-rename_002dfile_002doverwriting_002dtarget"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003arename_002dfile_002doverwriting_002dtarget"></a>
<p>Rename a file, overwriting any previous file with the <code class="code">target</code> name,
in an atomic way if the implementation allows.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003aresolve_002dsymlinks_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-resolve_002dsymlinks_002a"><span class="category-def">Function: </span><span><strong class="def-name">resolve-symlinks*</strong> <var class="def-var-arguments">path</var><a class="copiable-link" href="#index-resolve_002dsymlinks_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003aresolve_002dsymlinks_002a"></a>
<p><code class="code">resolve-symlinks</code> in <code class="code">path</code> iff <code class="code">*resolve-symlinks*</code> is <code class="code">t</code> (the default).
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003aresolve_002dsymlinks"></a><dl class="first-deffn">
<dt class="deffn" id="index-resolve_002dsymlinks"><span class="category-def">Function: </span><span><strong class="def-name">resolve-symlinks</strong> <var class="def-var-arguments">path</var><a class="copiable-link" href="#index-resolve_002dsymlinks"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003aresolve_002dsymlinks"></a>
<p>Do a best effort at resolving symlinks in <code class="code">path</code>, returning a partially or totally resolved <code class="code">path</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003asafe_002dfile_002dwrite_002ddate"></a><dl class="first-deffn">
<dt class="deffn" id="index-safe_002dfile_002dwrite_002ddate"><span class="category-def">Function: </span><span><strong class="def-name">safe-file-write-date</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-safe_002dfile_002dwrite_002ddate"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003asafe_002dfile_002dwrite_002ddate"></a>
<p>Safe variant of <code class="code">file-write-date</code> that may return <code class="code">nil</code> rather than raise an error.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003asplit_002dnative_002dpathnames_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-split_002dnative_002dpathnames_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">split-native-pathnames-string</strong> <var class="def-var-arguments">string &amp;rest  constraints &amp;key  &amp;allow-other-keys </var><a class="copiable-link" href="#index-split_002dnative_002dpathnames_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003asplit_002dnative_002dpathnames_002dstring"></a>
<p>Given a string of pathnames specified in native OS syntax, separate them in a list,
check constraints and normalize each one as per <code class="code">ensure-pathname</code>,
where an empty string denotes <code class="code">nil</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003asubdirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-subdirectories"><span class="category-def">Function: </span><span><strong class="def-name">subdirectories</strong> <var class="def-var-arguments">directory</var><a class="copiable-link" href="#index-subdirectories"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003asubdirectories"></a>
<p>Given a <code class="code">directory</code> pathname designator, return a list of the subdirectories under it.
The behavior in presence of symlinks is not portable. Use IOlib to handle such situations.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003atruename_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-truename_002a"><span class="category-def">Function: </span><span><strong class="def-name">truename*</strong> <var class="def-var-arguments">p</var><a class="copiable-link" href="#index-truename_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003atruename_002a"></a>
<p>Nicer variant of <code class="code">truename</code> that plays well with <code class="code">nil</code>, avoids logical pathname contexts, and tries both files and directories
</p></dd></dl>
<a class="anchor" id="Function-uiop_002ffilesystem_003atruenamize"></a><dl class="first-deffn">
<dt class="deffn" id="index-truenamize"><span class="category-def">Function: </span><span><strong class="def-name">truenamize</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-truenamize"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003atruenamize"></a>
<p>Resolve as much of a pathname as possible
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002ffilesystem_003awith_002dcurrent_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dcurrent_002ddirectory"><span class="category-def">Macro: </span><span><strong class="def-name">with-current-directory</strong> <var class="def-var-arguments">(&amp;optional dir) &amp;body  body</var><a class="copiable-link" href="#index-with_002dcurrent_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003awith_002dcurrent_002ddirectory"></a>
<p>Call <code class="code">body</code> while the POSIX current working directory is set to <code class="code">dir</code>
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002ffilesystem_003a_002aresolve_002dsymlinks_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aresolve_002dsymlinks_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*resolve-symlinks*</strong><a class="copiable-link" href="#index-_002aresolve_002dsymlinks_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002ffilesystem_003a_002aresolve_002dsymlinks_002a"></a>
<p>Determine whether or not ASDF resolves symlinks when defining systems.
Defaults to <code class="code">t</code>.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fSTREAM">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fIMAGE" accesskey="n" rel="next">UIOP/IMAGE</a>, Previous: <a href="#UIOP_002fFILESYSTEM" accesskey="p" rel="prev">UIOP/FILESYSTEM</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fSTREAM-1"><span>9 UIOP/STREAM<a class="copiable-link" href="#UIOP_002fSTREAM-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fstream_003aadd_002dpathname_002dsuffix"></a><dl class="first-deffn">
<dt class="deffn" id="index-add_002dpathname_002dsuffix"><span class="category-def">Function: </span><span><strong class="def-name">add-pathname-suffix</strong> <var class="def-var-arguments">pathname suffix &amp;rest  keys</var><a class="copiable-link" href="#index-add_002dpathname_002dsuffix"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aadd_002dpathname_002dsuffix"></a>
<p>Add a <code class="code">suffix</code> to the name of a <code class="code">pathname</code>, return a new pathname.
Further <code class="code">keys</code> can be passed to <code class="code">make-pathname</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aalways_002ddefault_002dencoding"></a><dl class="first-deffn">
<dt class="deffn" id="index-always_002ddefault_002dencoding"><span class="category-def">Function: </span><span><strong class="def-name">always-default-encoding</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-always_002ddefault_002dencoding"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aalways_002ddefault_002dencoding"></a>
<p>Trivial function to use as *encoding-detection-hook*,
always ’detects’ the *default-encoding*
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acall_002dwith_002dinput_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dinput_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">call-with-input-file</strong> <var class="def-var-arguments">pathname thunk &amp;key  element-type external-format if-does-not-exist</var><a class="copiable-link" href="#index-call_002dwith_002dinput_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acall_002dwith_002dinput_002dfile"></a>
<p>Open <code class="code">file</code> for input with given recognizes options, call <code class="code">thunk</code> with the resulting stream.
Other keys are accepted but discarded.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acall_002dwith_002dnull_002dinput"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dnull_002dinput"><span class="category-def">Function: </span><span><strong class="def-name">call-with-null-input</strong> <var class="def-var-arguments">fun &amp;key  element-type external-format if-does-not-exist</var><a class="copiable-link" href="#index-call_002dwith_002dnull_002dinput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acall_002dwith_002dnull_002dinput"></a>
<p>Call <code class="code">fun</code> with an input stream that always returns end of file.
The keyword arguments are allowed for backward compatibility, but are ignored.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acall_002dwith_002dnull_002doutput"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dnull_002doutput"><span class="category-def">Function: </span><span><strong class="def-name">call-with-null-output</strong> <var class="def-var-arguments">fun &amp;key  element-type external-format if-exists if-does-not-exist</var><a class="copiable-link" href="#index-call_002dwith_002dnull_002doutput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acall_002dwith_002dnull_002doutput"></a>
<p>Call <code class="code">fun</code> with an output stream that discards all output.
The keyword arguments are allowed for backward compatibility, but are ignored.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acall_002dwith_002doutput_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002doutput_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">call-with-output-file</strong> <var class="def-var-arguments">pathname thunk &amp;key  element-type external-format if-exists if-does-not-exist</var><a class="copiable-link" href="#index-call_002dwith_002doutput_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acall_002dwith_002doutput_002dfile"></a>
<p>Open <code class="code">file</code> for input with given recognizes options, call <code class="code">thunk</code> with the resulting stream.
Other keys are accepted but discarded.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acall_002dwith_002dstaging_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dstaging_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">call-with-staging-pathname</strong> <var class="def-var-arguments">pathname fun</var><a class="copiable-link" href="#index-call_002dwith_002dstaging_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acall_002dwith_002dstaging_002dpathname"></a>
<p>Calls <code class="code">fun</code> with a staging pathname, and atomically
renames the staging pathname to the <code class="code">pathname</code> in the end.
<code class="code">nb:</code> this protects only against failure of the program, not against concurrent attempts.
For the latter case, we ought pick a random suffix and atomically open it.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acall_002dwith_002dtemporary_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dtemporary_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">call-with-temporary-file</strong> <var class="def-var-arguments">thunk &amp;key  want-stream-p want-pathname-p direction keep after directory type prefix suffix element-type external-format</var><a class="copiable-link" href="#index-call_002dwith_002dtemporary_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acall_002dwith_002dtemporary_002dfile"></a>
<p>Call a <code class="code">thunk</code> with stream and/or pathname arguments identifying a temporary file.
</p>
<p>The temporary file’s pathname will be based on concatenating
<code class="code">prefix</code> (or "tmp" if it’s <code class="code">nil</code>), a random alphanumeric string,
and optional <code class="code">suffix</code> (defaults to "-tmp" if a type was provided)
and <code class="code">type</code> (defaults to "tmp", using a dot as separator if not <code class="code">nil</code>),
within <code class="code">directory</code> (defaulting to the <code class="code">temporary-directory</code>) if the <code class="code">prefix</code> isn’t absolute.
</p>
<p>The file will be open with specified <code class="code">direction</code> (defaults to <code class="code">:io</code>),
<code class="code">element-type</code> (defaults to <code class="code">*default-stream-element-type*</code>) and
<code class="code">external-format</code> (defaults to <code class="code">*utf-8-external-format*</code>).
If <code class="code">want-stream-p</code> is true (the defaults to <code class="code">t</code>), then <code class="code">thunk</code> will then be <code class="code">call-function</code>’ed
with the stream and the pathname (if <code class="code">want-pathname-p</code> is true, defaults to <code class="code">t</code>),
and stream will be closed after the <code class="code">thunk</code> exits (either normally or abnormally).
If <code class="code">want-stream-p</code> is false, then <code class="code">want-pathame-p</code> must be true, and then
<code class="code">thunk</code> is only <code class="code">call-function</code>’ed after the stream is closed, with the pathname as argument.
Upon exit of <code class="code">thunk</code>, the <code class="code">after</code> thunk if defined is <code class="code">call-function</code>’ed with the pathname as argument.
If <code class="code">after</code> is defined, its results are returned, otherwise, the results of <code class="code">thunk</code> are returned.
Finally, the file will be deleted, unless the <code class="code">keep</code> argument when <code class="code">call-function</code>’ed returns true.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aconcatenate_002dfiles"></a><dl class="first-deffn">
<dt class="deffn" id="index-concatenate_002dfiles"><span class="category-def">Function: </span><span><strong class="def-name">concatenate-files</strong> <var class="def-var-arguments">inputs output</var><a class="copiable-link" href="#index-concatenate_002dfiles"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aconcatenate_002dfiles"></a>
<p>create a new <code class="code">output</code> file the contents of which a the concatenate of the <code class="code">inputs</code> files.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acopy_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-copy_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">copy-file</strong> <var class="def-var-arguments">input output</var><a class="copiable-link" href="#index-copy_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acopy_002dfile"></a>
<p>Copy contents of the <code class="code">input</code> file to the <code class="code">output</code> file
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003acopy_002dstream_002dto_002dstream"></a><dl class="first-deffn">
<dt class="deffn" id="index-copy_002dstream_002dto_002dstream"><span class="category-def">Function: </span><span><strong class="def-name">copy-stream-to-stream</strong> <var class="def-var-arguments">input output &amp;key  element-type buffer-size linewise prefix</var><a class="copiable-link" href="#index-copy_002dstream_002dto_002dstream"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003acopy_002dstream_002dto_002dstream"></a>
<p>Copy the contents of the <code class="code">input</code> stream into the <code class="code">output</code> stream.
If <code class="code">linewise</code> is true, then read and copy the stream line by line, with an optional <code class="code">prefix</code>.
Otherwise, using <code class="code">write-sequence</code> using a buffer of size <code class="code">buffer-size</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003adefault_002dencoding_002dexternal_002dformat"></a><dl class="first-deffn">
<dt class="deffn" id="index-default_002dencoding_002dexternal_002dformat"><span class="category-def">Function: </span><span><strong class="def-name">default-encoding-external-format</strong> <var class="def-var-arguments">encoding</var><a class="copiable-link" href="#index-default_002dencoding_002dexternal_002dformat"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003adefault_002dencoding_002dexternal_002dformat"></a>
<p>Default, ignorant, function to transform a character <code class="code">encoding</code> as a
portable keyword to an implementation-dependent <code class="code">external-format</code> specification.
Load system <code class="code">asdf-encodings</code> to hook in a better one.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003adefault_002dtemporary_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-default_002dtemporary_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">default-temporary-directory</strong><a class="copiable-link" href="#index-default_002dtemporary_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003adefault_002dtemporary_002ddirectory"></a>
<p>Return a default directory to use for temporary files
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003adetect_002dencoding"></a><dl class="first-deffn">
<dt class="deffn" id="index-detect_002dencoding"><span class="category-def">Function: </span><span><strong class="def-name">detect-encoding</strong> <var class="def-var-arguments">pathname</var><a class="copiable-link" href="#index-detect_002dencoding"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003adetect_002dencoding"></a>
<p>Detects the encoding of a specified file, going through user-configurable hooks
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aencoding_002dexternal_002dformat"></a><dl class="first-deffn">
<dt class="deffn" id="index-encoding_002dexternal_002dformat"><span class="category-def">Function: </span><span><strong class="def-name">encoding-external-format</strong> <var class="def-var-arguments">encoding</var><a class="copiable-link" href="#index-encoding_002dexternal_002dformat"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aencoding_002dexternal_002dformat"></a>
<p>Transform a portable <code class="code">encoding</code> keyword to an implementation-dependent <code class="code">external-format</code>,
going through all the proper hooks.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aeval_002dinput"></a><dl class="first-deffn">
<dt class="deffn" id="index-eval_002dinput"><span class="category-def">Function: </span><span><strong class="def-name">eval-input</strong> <var class="def-var-arguments">input</var><a class="copiable-link" href="#index-eval_002dinput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aeval_002dinput"></a>
<p>Portably read and evaluate forms from <code class="code">input</code>, return the last values.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aeval_002dthunk"></a><dl class="first-deffn">
<dt class="deffn" id="index-eval_002dthunk"><span class="category-def">Function: </span><span><strong class="def-name">eval-thunk</strong> <var class="def-var-arguments">thunk</var><a class="copiable-link" href="#index-eval_002dthunk"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aeval_002dthunk"></a>
<p>Evaluate a <code class="code">thunk</code> of code:
If a function, <code class="code">funcall</code> it without arguments.
If a constant literal and not a sequence, return it.
If a cons or a symbol, <code class="code">eval</code> it.
If a string, repeatedly read and evaluate from it, returning the last values.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003afinish_002doutputs"></a><dl class="first-deffn">
<dt class="deffn" id="index-finish_002doutputs"><span class="category-def">Function: </span><span><strong class="def-name">finish-outputs</strong> <var class="def-var-arguments">&amp;rest  streams</var><a class="copiable-link" href="#index-finish_002doutputs"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003afinish_002doutputs"></a>
<p>Finish output on the main output streams as well as any specified one.
Useful for portably flushing I/O before user input or program exit.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aformat_0021"></a><dl class="first-deffn">
<dt class="deffn" id="index-format_0021"><span class="category-def">Function: </span><span><strong class="def-name">format!</strong> <var class="def-var-arguments">stream format &amp;rest  args</var><a class="copiable-link" href="#index-format_0021"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aformat_0021"></a>
<p>Just like format, but call finish-outputs before and after the output.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003ainput_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-input_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">input-string</strong> <var class="def-var-arguments">&amp;optional  input</var><a class="copiable-link" href="#index-input_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003ainput_002dstring"></a>
<p>If the desired <code class="code">input</code> is a string, return that string; otherwise slurp the <code class="code">input</code> into a string
and return that
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003anull_002ddevice_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-null_002ddevice_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">null-device-pathname</strong><a class="copiable-link" href="#index-null_002ddevice_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003anull_002ddevice_002dpathname"></a>
<p>Pathname to a bit bucket device that discards any information written to it
and always returns <code class="code">eof</code> when read from
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aoutput_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-output_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">output-string</strong> <var class="def-var-arguments">string &amp;optional  output</var><a class="copiable-link" href="#index-output_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aoutput_002dstring"></a>
<p>If the desired <code class="code">output</code> is not <code class="code">nil</code>, print the string to the output; otherwise return the string
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aprintln"></a><dl class="first-deffn">
<dt class="deffn" id="index-println"><span class="category-def">Function: </span><span><strong class="def-name">println</strong> <var class="def-var-arguments">x &amp;optional  stream</var><a class="copiable-link" href="#index-println"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aprintln"></a>
<p>Variant of <code class="code">princ</code> that also calls <code class="code">terpri</code> afterwards
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aread_002dfile_002dform"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dfile_002dform"><span class="category-def">Function: </span><span><strong class="def-name">read-file-form</strong> <var class="def-var-arguments">file &amp;rest  keys &amp;key  at &amp;allow-other-keys </var><a class="copiable-link" href="#index-read_002dfile_002dform"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aread_002dfile_002dform"></a>
<p>Open input <code class="code">file</code> with option <code class="code">keys</code> (except <code class="code">at</code>),
and read its contents as per <code class="code">slurp-stream-form</code> with given <code class="code">at</code> specifier.
<code class="code">beware:</code> be sure to use <code class="code">with-safe-io-syntax</code>, or some variant thereof
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aread_002dfile_002dforms"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dfile_002dforms"><span class="category-def">Function: </span><span><strong class="def-name">read-file-forms</strong> <var class="def-var-arguments">file &amp;rest  keys &amp;key  count &amp;allow-other-keys </var><a class="copiable-link" href="#index-read_002dfile_002dforms"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aread_002dfile_002dforms"></a>
<p>Open input <code class="code">file</code> with option <code class="code">keys</code> (except <code class="code">count</code>),
and read its contents as per <code class="code">slurp-stream-forms</code> with given <code class="code">count</code>.
If <code class="code">count</code> is null, read to the end of the stream;
if <code class="code">count</code> is an integer, stop after <code class="code">count</code> forms were read.
<code class="code">beware:</code> be sure to use <code class="code">with-safe-io-syntax</code>, or some variant thereof
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aread_002dfile_002dline"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dfile_002dline"><span class="category-def">Function: </span><span><strong class="def-name">read-file-line</strong> <var class="def-var-arguments">file &amp;rest  keys &amp;key  at &amp;allow-other-keys </var><a class="copiable-link" href="#index-read_002dfile_002dline"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aread_002dfile_002dline"></a>
<p>Open input <code class="code">file</code> with option <code class="code">keys</code> (except <code class="code">at</code>),
and read its contents as per <code class="code">slurp-stream-line</code> with given <code class="code">at</code> specifier.
<code class="code">beware:</code> be sure to use <code class="code">with-safe-io-syntax</code>, or some variant thereof
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aread_002dfile_002dlines"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dfile_002dlines"><span class="category-def">Function: </span><span><strong class="def-name">read-file-lines</strong> <var class="def-var-arguments">file &amp;rest  keys</var><a class="copiable-link" href="#index-read_002dfile_002dlines"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aread_002dfile_002dlines"></a>
<p>Open <code class="code">file</code> with option <code class="code">keys</code>, read its contents as a list of lines
<code class="code">beware:</code> be sure to use <code class="code">with-safe-io-syntax</code>, or some variant thereof
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aread_002dfile_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-read_002dfile_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">read-file-string</strong> <var class="def-var-arguments">file &amp;rest  keys</var><a class="copiable-link" href="#index-read_002dfile_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aread_002dfile_002dstring"></a>
<p>Open <code class="code">file</code> with option <code class="code">keys</code>, read its contents as a string
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003asafe_002dformat_0021"></a><dl class="first-deffn">
<dt class="deffn" id="index-safe_002dformat_0021"><span class="category-def">Function: </span><span><strong class="def-name">safe-format!</strong> <var class="def-var-arguments">stream format &amp;rest  args</var><a class="copiable-link" href="#index-safe_002dformat_0021"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003asafe_002dformat_0021"></a>
<p>Variant of <code class="code">format</code> that is safe against both
dangerous syntax configuration and errors while printing.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003asafe_002dread_002dfile_002dform"></a><dl class="first-deffn">
<dt class="deffn" id="index-safe_002dread_002dfile_002dform"><span class="category-def">Function: </span><span><strong class="def-name">safe-read-file-form</strong> <var class="def-var-arguments">pathname &amp;rest  keys &amp;key  package &amp;allow-other-keys </var><a class="copiable-link" href="#index-safe_002dread_002dfile_002dform"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003asafe_002dread_002dfile_002dform"></a>
<p>Reads the specified form from the top of a file using a safe standardized syntax.
Extracts the form using <code class="code">read-file-form</code>,
within an <code class="code">with-safe-io-syntax</code> using the specified <code class="code">package</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003asafe_002dread_002dfile_002dline"></a><dl class="first-deffn">
<dt class="deffn" id="index-safe_002dread_002dfile_002dline"><span class="category-def">Function: </span><span><strong class="def-name">safe-read-file-line</strong> <var class="def-var-arguments">pathname &amp;rest  keys &amp;key  package &amp;allow-other-keys </var><a class="copiable-link" href="#index-safe_002dread_002dfile_002dline"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003asafe_002dread_002dfile_002dline"></a>
<p>Reads the specified line from the top of a file using a safe standardized syntax.
Extracts the line using <code class="code">read-file-line</code>,
within an <code class="code">with-safe-io-syntax</code> using the specified <code class="code">package</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003asafe_002dread_002dfrom_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-safe_002dread_002dfrom_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">safe-read-from-string</strong> <var class="def-var-arguments">string &amp;key  package eof-error-p eof-value start end preserve-whitespace</var><a class="copiable-link" href="#index-safe_002dread_002dfrom_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003asafe_002dread_002dfrom_002dstring"></a>
<p>Read from <code class="code">string</code> using a safe syntax, as per <code class="code">with-safe-io-syntax</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003asetup_002dtemporary_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-setup_002dtemporary_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">setup-temporary-directory</strong><a class="copiable-link" href="#index-setup_002dtemporary_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003asetup_002dtemporary_002ddirectory"></a>
<p>Configure a default temporary directory to use.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aslurp_002dstream_002dform"></a><dl class="first-deffn">
<dt class="deffn" id="index-slurp_002dstream_002dform"><span class="category-def">Function: </span><span><strong class="def-name">slurp-stream-form</strong> <var class="def-var-arguments">input &amp;key  at</var><a class="copiable-link" href="#index-slurp_002dstream_002dform"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aslurp_002dstream_002dform"></a>
<p>Read the contents of the <code class="code">input</code> stream as a list of forms,
then return the <code class="code">access-at</code> of these forms following the <code class="code">at</code>.
<code class="code">at</code> defaults to <code class="code">0</code>, i.e. return the first form.
<code class="code">at</code> is typically a list of integers.
If <code class="code">at</code> is <code class="code">nil</code>, it will return all the forms in the file.
</p>
<p>The stream will not be read beyond the Nth form,
where <code class="code">n</code> is the index specified by path,
if path is either an integer or a list that starts with an integer.
</p>
<p><code class="code">beware:</code> be sure to use <code class="code">with-safe-io-syntax</code>, or some variant thereof
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aslurp_002dstream_002dforms"></a><dl class="first-deffn">
<dt class="deffn" id="index-slurp_002dstream_002dforms"><span class="category-def">Function: </span><span><strong class="def-name">slurp-stream-forms</strong> <var class="def-var-arguments">input &amp;key  count</var><a class="copiable-link" href="#index-slurp_002dstream_002dforms"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aslurp_002dstream_002dforms"></a>
<p>Read the contents of the <code class="code">input</code> stream as a list of forms,
and return those forms.
</p>
<p>If <code class="code">count</code> is null, read to the end of the stream;
if <code class="code">count</code> is an integer, stop after <code class="code">count</code> forms were read.
</p>
<p><code class="code">beware:</code> be sure to use <code class="code">with-safe-io-syntax</code>, or some variant thereof
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aslurp_002dstream_002dline"></a><dl class="first-deffn">
<dt class="deffn" id="index-slurp_002dstream_002dline"><span class="category-def">Function: </span><span><strong class="def-name">slurp-stream-line</strong> <var class="def-var-arguments">input &amp;key  at</var><a class="copiable-link" href="#index-slurp_002dstream_002dline"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aslurp_002dstream_002dline"></a>
<p>Read the contents of the <code class="code">input</code> stream as a list of lines,
then return the <code class="code">access-at</code> of that list of lines using the <code class="code">at</code> specifier.
<code class="code">path</code> defaults to <code class="code">0</code>, i.e. return the first line.
<code class="code">path</code> is typically an integer, or a list of an integer and a function.
If <code class="code">path</code> is <code class="code">nil</code>, it will return all the lines in the file.
</p>
<p>The stream will not be read beyond the Nth lines,
where <code class="code">n</code> is the index specified by path
if path is either an integer or a list that starts with an integer.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aslurp_002dstream_002dlines"></a><dl class="first-deffn">
<dt class="deffn" id="index-slurp_002dstream_002dlines"><span class="category-def">Function: </span><span><strong class="def-name">slurp-stream-lines</strong> <var class="def-var-arguments">input &amp;key  count</var><a class="copiable-link" href="#index-slurp_002dstream_002dlines"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aslurp_002dstream_002dlines"></a>
<p>Read the contents of the <code class="code">input</code> stream as a list of lines, return those lines.
</p>
<p>Note: relies on the Lisp’s <code class="code">read-line</code>, but additionally removes any remaining CR
from the line-ending if the file or stream had CR+LF but Lisp only removed LF.
</p>
<p>Read no more than <code class="code">count</code> lines.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003aslurp_002dstream_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-slurp_002dstream_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">slurp-stream-string</strong> <var class="def-var-arguments">input &amp;key  element-type stripped</var><a class="copiable-link" href="#index-slurp_002dstream_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003aslurp_002dstream_002dstring"></a>
<p>Read the contents of the <code class="code">input</code> stream as a string
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003astandard_002deval_002dthunk"></a><dl class="first-deffn">
<dt class="deffn" id="index-standard_002deval_002dthunk"><span class="category-def">Function: </span><span><strong class="def-name">standard-eval-thunk</strong> <var class="def-var-arguments">thunk &amp;key  package</var><a class="copiable-link" href="#index-standard_002deval_002dthunk"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003astandard_002deval_002dthunk"></a>
<p>Like <code class="code">eval-thunk</code>, but in a more standardized evaluation context.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003atemporary_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-temporary_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">temporary-directory</strong><a class="copiable-link" href="#index-temporary_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003atemporary_002ddirectory"></a>
<p>Return a directory to use for temporary files
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003atmpize_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-tmpize_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">tmpize-pathname</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-tmpize_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003atmpize_002dpathname"></a>
<p>Return a new pathname modified from <code class="code">x</code> by adding a trivial random suffix.
A new empty file with said temporary pathname is created, to ensure there is no
clash with any concurrent process attempting the same thing.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fstream_003awriteln"></a><dl class="first-deffn">
<dt class="deffn" id="index-writeln"><span class="category-def">Function: </span><span><strong class="def-name">writeln</strong> <var class="def-var-arguments">x &amp;rest  keys &amp;key  stream &amp;allow-other-keys </var><a class="copiable-link" href="#index-writeln"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awriteln"></a>
<p>Variant of <code class="code">write</code> that also calls <code class="code">terpri</code> afterwards
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002dinput"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dinput"><span class="category-def">Macro: </span><span><strong class="def-name">with-input</strong> <var class="def-var-arguments">(input-var &amp;optional value) &amp;body  body</var><a class="copiable-link" href="#index-with_002dinput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002dinput"></a>
<p>Bind <code class="code">input-var</code> to an input stream, coercing <code class="code">value</code> (default: previous binding of <code class="code">input-var</code>)
as per <code class="code">call-with-input</code>, and evaluate <code class="code">body</code> within the scope of this binding.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002dnull_002dinput"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dnull_002dinput"><span class="category-def">Macro: </span><span><strong class="def-name">with-null-input</strong> <var class="def-var-arguments">(var &amp;rest keys &amp;key element-type external-format if-does-not-exist) &amp;body  body</var><a class="copiable-link" href="#index-with_002dnull_002dinput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002dnull_002dinput"></a>
<p>Evaluate <code class="code">body</code> in a context when <code class="code">var</code> is bound to an input stream that always returns end of file.
The keyword arguments are allowed for backward compatibility, but are ignored.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002dnull_002doutput"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dnull_002doutput"><span class="category-def">Macro: </span><span><strong class="def-name">with-null-output</strong> <var class="def-var-arguments">(var &amp;rest keys &amp;key element-type external-format if-does-not-exist if-exists) &amp;body  body</var><a class="copiable-link" href="#index-with_002dnull_002doutput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002dnull_002doutput"></a>
<p>Evaluate <code class="code">body</code> in a context when <code class="code">var</code> is bound to an output stream that discards all output.
The keyword arguments are allowed for backward compatibility, but are ignored.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002doutput"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002doutput"><span class="category-def">Macro: </span><span><strong class="def-name">with-output</strong> <var class="def-var-arguments">(output-var &amp;optional value &amp;key element-type) &amp;body  body</var><a class="copiable-link" href="#index-with_002doutput"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002doutput"></a>
<p>Bind <code class="code">output-var</code> to an output stream obtained from <code class="code">value</code> (default: previous binding
of <code class="code">output-var</code>) treated as a stream designator per <code class="code">call-with-output</code>. Evaluate <code class="code">body</code> in
the scope of this binding.
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002dsafe_002dio_002dsyntax"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dsafe_002dio_002dsyntax"><span class="category-def">Macro: </span><span><strong class="def-name">with-safe-io-syntax</strong> <var class="def-var-arguments">(&amp;key package) &amp;body  body</var><a class="copiable-link" href="#index-with_002dsafe_002dio_002dsyntax"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002dsafe_002dio_002dsyntax"></a>
<p>Establish safe CL reader options around the evaluation of <code class="code">body</code>
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002dstaging_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dstaging_002dpathname"><span class="category-def">Macro: </span><span><strong class="def-name">with-staging-pathname</strong> <var class="def-var-arguments">(pathname-var &amp;optional pathname-value) &amp;body  body</var><a class="copiable-link" href="#index-with_002dstaging_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002dstaging_002dpathname"></a>
<p>Trivial syntax wrapper for <code class="code">call-with-staging-pathname</code>
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fstream_003awith_002dtemporary_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dtemporary_002dfile"><span class="category-def">Macro: </span><span><strong class="def-name">with-temporary-file</strong> <var class="def-var-arguments">(&amp;key stream pathname directory prefix suffix type keep direction element-type external-format) &amp;body  body</var><a class="copiable-link" href="#index-with_002dtemporary_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003awith_002dtemporary_002dfile"></a>
<p>Evaluate <code class="code">body</code> where the symbols specified by keyword arguments
<code class="code">stream</code> and <code class="code">pathname</code> (if respectively specified) are bound corresponding
to a newly created temporary file ready for I/O, as per <code class="code">call-with-temporary-file</code>.
At least one of <code class="code">stream</code> or <code class="code">pathname</code> must be specified.
If the <code class="code">stream</code> is not specified, it will be closed before the <code class="code">body</code> is evaluated.
If <code class="code">stream</code> is specified, then the <code class="code">:close-stream</code> label if it appears in the <code class="code">body</code>,
separates forms run before and after the stream is closed.
The values of the last form of the <code class="code">body</code> (not counting the separating <code class="code">:close-stream</code>) are returned.
Upon success, the <code class="code">keep</code> form is evaluated and the file is is deleted unless it evaluates to <code class="code">true</code>.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002adefault_002dencoding_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002adefault_002dencoding_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*default-encoding*</strong><a class="copiable-link" href="#index-_002adefault_002dencoding_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002adefault_002dencoding_002a"></a>
<p>Default encoding for source files.
The default value :utf-8 is the portable thing.
The legacy behavior was :default.
If you (asdf:load-system :asdf-encodings) then
you will have autodetection via *encoding-detection-hook* below,
reading emacs-style <code class="code">-*-</code> coding: utf-8 <code class="code">-*-</code> specifications,
and falling back to utf-8 or latin1 if nothing is specified.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002adefault_002dstream_002delement_002dtype_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002adefault_002dstream_002delement_002dtype_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*default-stream-element-type*</strong><a class="copiable-link" href="#index-_002adefault_002dstream_002delement_002dtype_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002adefault_002dstream_002delement_002dtype_002a"></a>
<p>default element-type for open (depends on the current CL implementation)
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002aencoding_002ddetection_002dhook_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aencoding_002ddetection_002dhook_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*encoding-detection-hook*</strong><a class="copiable-link" href="#index-_002aencoding_002ddetection_002dhook_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002aencoding_002ddetection_002dhook_002a"></a>
<p>Hook for an extension to define a function to automatically detect a file’s encoding
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002aencoding_002dexternal_002dformat_002dhook_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aencoding_002dexternal_002dformat_002dhook_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*encoding-external-format-hook*</strong><a class="copiable-link" href="#index-_002aencoding_002dexternal_002dformat_002dhook_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002aencoding_002dexternal_002dformat_002dhook_002a"></a>
<p>Hook for an extension (e.g. <code class="code">asdf-encodings</code>) to define a better mapping
from non-default encodings to and implementation-defined external-format’s
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002astderr_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002astderr_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*stderr*</strong><a class="copiable-link" href="#index-_002astderr_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002astderr_002a"></a>
<p>the original error output stream at startup
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002astdin_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002astdin_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*stdin*</strong><a class="copiable-link" href="#index-_002astdin_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002astdin_002a"></a>
<p>the original standard input stream at startup
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002astdout_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002astdout_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*stdout*</strong><a class="copiable-link" href="#index-_002astdout_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002astdout_002a"></a>
<p>the original standard output stream at startup
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002atemporary_002ddirectory_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002atemporary_002ddirectory_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*temporary-directory*</strong><a class="copiable-link" href="#index-_002atemporary_002ddirectory_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002atemporary_002ddirectory_002a"></a>
<p>User-configurable location for temporary files
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fstream_003a_002autf_002d8_002dexternal_002dformat_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002autf_002d8_002dexternal_002dformat_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*utf-8-external-format*</strong><a class="copiable-link" href="#index-_002autf_002d8_002dexternal_002dformat_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fstream_003a_002autf_002d8_002dexternal_002dformat_002a"></a>
<p>Default :external-format argument to pass to <code class="code">cl:open</code> and also
<code class="code">cl:load</code> or <code class="code">cl:compile-file</code> to best process a <code class="code">utf-8</code> encoded file.
On modern implementations, this will decode <code class="code">utf-8</code> code points as CL characters.
On legacy implementations, it may fall back on some 8-bit encoding,
with non-ASCII code points being read as several CL characters;
hopefully, if done consistently, that won’t affect program behavior too much.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fIMAGE">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fLISP_002dBUILD" accesskey="n" rel="next">UIOP/LISP-BUILD</a>, Previous: <a href="#UIOP_002fSTREAM" accesskey="p" rel="prev">UIOP/STREAM</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fIMAGE-1"><span>10 UIOP/IMAGE<a class="copiable-link" href="#UIOP_002fIMAGE-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fimage_003aargv0"></a><dl class="first-deffn">
<dt class="deffn" id="index-argv0"><span class="category-def">Function: </span><span><strong class="def-name">argv0</strong><a class="copiable-link" href="#index-argv0"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003aargv0"></a>
<p>On supported implementations (most that matter), or when invoked by a proper wrapper script,
return a string that for the name with which the program was invoked, i.e. argv[0] in <code class="code">c</code>.
Otherwise, return <code class="code">nil</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003acall_002dimage_002ddump_002dhook"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dimage_002ddump_002dhook"><span class="category-def">Function: </span><span><strong class="def-name">call-image-dump-hook</strong><a class="copiable-link" href="#index-call_002dimage_002ddump_002dhook"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003acall_002dimage_002ddump_002dhook"></a>
<p>Call the hook functions registered to be run before to dump an image
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003acall_002dimage_002drestore_002dhook"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dimage_002drestore_002dhook"><span class="category-def">Function: </span><span><strong class="def-name">call-image-restore-hook</strong><a class="copiable-link" href="#index-call_002dimage_002drestore_002dhook"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003acall_002dimage_002drestore_002dhook"></a>
<p>Call the hook functions registered to be run when restoring a dumped image
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003acall_002dwith_002dfatal_002dcondition_002dhandler"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dfatal_002dcondition_002dhandler"><span class="category-def">Function: </span><span><strong class="def-name">call-with-fatal-condition-handler</strong> <var class="def-var-arguments">thunk</var><a class="copiable-link" href="#index-call_002dwith_002dfatal_002dcondition_002dhandler"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003acall_002dwith_002dfatal_002dcondition_002dhandler"></a>
<p>Call <code class="code">thunk</code> in a context where fatal conditions are appropriately handled
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003acommand_002dline_002darguments"></a><dl class="first-deffn">
<dt class="deffn" id="index-command_002dline_002darguments"><span class="category-def">Function: </span><span><strong class="def-name">command-line-arguments</strong> <var class="def-var-arguments">&amp;optional  arguments</var><a class="copiable-link" href="#index-command_002dline_002darguments"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003acommand_002dline_002darguments"></a>
<p>Extract user arguments from command-line invocation of current process.
Assume the calling conventions of a generated script that uses <code class="code">--</code>
if we are not called from a directly executable image.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003acreate_002dimage"></a><dl class="first-deffn">
<dt class="deffn" id="index-create_002dimage"><span class="category-def">Function: </span><span><strong class="def-name">create-image</strong> <var class="def-var-arguments">destination
 lisp-object-files &amp;key  kind output-name prologue-code 
epilogue-code extra-object-files prelude postlude entry-point build-args
 no-uiop</var><a class="copiable-link" href="#index-create_002dimage"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003acreate_002dimage"></a>
<p>On ECL, create an executable at pathname <code class="code">destination</code> from the specified <code class="code">object-files</code> and options
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003adie"></a><dl class="first-deffn">
<dt class="deffn" id="index-die"><span class="category-def">Function: </span><span><strong class="def-name">die</strong> <var class="def-var-arguments">code format &amp;rest  arguments</var><a class="copiable-link" href="#index-die"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003adie"></a>
<p>Die in error with some error message
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003adump_002dimage"></a><dl class="first-deffn">
<dt class="deffn" id="index-dump_002dimage"><span class="category-def">Function: </span><span><strong class="def-name">dump-image</strong> <var class="def-var-arguments">filename &amp;key  output-name executable postlude dump-hook compression</var><a class="copiable-link" href="#index-dump_002dimage"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003adump_002dimage"></a>
<p>Dump an image of the current Lisp environment at pathname <code class="code">filename</code>, with various options.
</p>
<p>First, finalize the image, by evaluating the <code class="code">postlude</code> as per <code class="code">eval-input</code>, then calling each of
 the functions in <code class="code">dump-hook</code>, in reverse order of registration by <code class="code">register-image-dump-hook</code>.
</p>
<p>If <code class="code">executable</code> is true, create an standalone executable program that calls <code class="code">restore-image</code> on startup.
</p>
<p>Pass various implementation-defined options, such as <code class="code">prepend-symbols</code> and <code class="code">purity</code> on CCL,
or <code class="code">compression</code> on SBCL, and <code class="code">application-type</code> on SBCL/Windows.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003afatal_002dcondition_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-fatal_002dcondition_002dp"><span class="category-def">Function: </span><span><strong class="def-name">fatal-condition-p</strong> <var class="def-var-arguments">condition</var><a class="copiable-link" href="#index-fatal_002dcondition_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003afatal_002dcondition_002dp"></a>
<p>Is the <code class="code">condition</code> fatal?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003ahandle_002dfatal_002dcondition"></a><dl class="first-deffn">
<dt class="deffn" id="index-handle_002dfatal_002dcondition"><span class="category-def">Function: </span><span><strong class="def-name">handle-fatal-condition</strong> <var class="def-var-arguments">condition</var><a class="copiable-link" href="#index-handle_002dfatal_002dcondition"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003ahandle_002dfatal_002dcondition"></a>
<p>Handle a fatal <code class="code">condition:</code>
depending on whether <code class="code">*lisp-interaction*</code> is set, enter debugger or die
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003aprint_002dbacktrace"></a><dl class="first-deffn">
<dt class="deffn" id="index-print_002dbacktrace"><span class="category-def">Function: </span><span><strong class="def-name">print-backtrace</strong> <var class="def-var-arguments">&amp;rest  keys &amp;key  stream count condition</var><a class="copiable-link" href="#index-print_002dbacktrace"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003aprint_002dbacktrace"></a>
<p>Print a backtrace
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003aprint_002dcondition_002dbacktrace"></a><dl class="first-deffn">
<dt class="deffn" id="index-print_002dcondition_002dbacktrace"><span class="category-def">Function: </span><span><strong class="def-name">print-condition-backtrace</strong> <var class="def-var-arguments">condition &amp;key  stream count</var><a class="copiable-link" href="#index-print_002dcondition_002dbacktrace"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003aprint_002dcondition_002dbacktrace"></a>
<p>Print a condition after a backtrace triggered by that condition
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003aquit"></a><dl class="first-deffn">
<dt class="deffn" id="index-quit"><span class="category-def">Function: </span><span><strong class="def-name">quit</strong> <var class="def-var-arguments">&amp;optional  code finish-output</var><a class="copiable-link" href="#index-quit"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003aquit"></a>
<p>Quits from the Lisp world, with the given exit status if provided.
This is designed to abstract away the implementation specific quit forms.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003araw_002dcommand_002dline_002darguments"></a><dl class="first-deffn">
<dt class="deffn" id="index-raw_002dcommand_002dline_002darguments"><span class="category-def">Function: </span><span><strong class="def-name">raw-command-line-arguments</strong><a class="copiable-link" href="#index-raw_002dcommand_002dline_002darguments"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003araw_002dcommand_002dline_002darguments"></a>
<p>Find what the actual command line for this process was.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003araw_002dprint_002dbacktrace"></a><dl class="first-deffn">
<dt class="deffn" id="index-raw_002dprint_002dbacktrace"><span class="category-def">Function: </span><span><strong class="def-name">raw-print-backtrace</strong> <var class="def-var-arguments">&amp;key  stream count condition</var><a class="copiable-link" href="#index-raw_002dprint_002dbacktrace"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003araw_002dprint_002dbacktrace"></a>
<p>Print a backtrace, directly accessing the implementation
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003aregister_002dimage_002ddump_002dhook"></a><dl class="first-deffn">
<dt class="deffn" id="index-register_002dimage_002ddump_002dhook"><span class="category-def">Function: </span><span><strong class="def-name">register-image-dump-hook</strong> <var class="def-var-arguments">hook &amp;optional  call-now-p</var><a class="copiable-link" href="#index-register_002dimage_002ddump_002dhook"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003aregister_002dimage_002ddump_002dhook"></a>
<p>Register a the hook function to be run before to dump an image
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003aregister_002dimage_002drestore_002dhook"></a><dl class="first-deffn">
<dt class="deffn" id="index-register_002dimage_002drestore_002dhook"><span class="category-def">Function: </span><span><strong class="def-name">register-image-restore-hook</strong> <var class="def-var-arguments">hook &amp;optional  call-now-p</var><a class="copiable-link" href="#index-register_002dimage_002drestore_002dhook"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003aregister_002dimage_002drestore_002dhook"></a>
<p>Regiter a hook function to be run when restoring a dumped image
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003arestore_002dimage"></a><dl class="first-deffn">
<dt class="deffn" id="index-restore_002dimage"><span class="category-def">Function: </span><span><strong class="def-name">restore-image</strong> <var class="def-var-arguments">&amp;key  lisp-interaction restore-hook prelude entry-point if-already-restored</var><a class="copiable-link" href="#index-restore_002dimage"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003arestore_002dimage"></a>
<p>From a freshly restarted Lisp image, restore the saved Lisp environment
by setting appropriate variables, running various hooks, and calling any specified entry point.
</p>
<p>If the image has already been restored or is already being restored, as per <code class="code">*image-restored-p*</code>,
call the <code class="code">if-already-restored</code> error handler (by default, a continuable error), and do return
immediately to the surrounding restore process if allowed to continue.
</p>
<p>Then, comes the restore process itself:
First, call each function in the <code class="code">restore-hook</code>,
in the order they were registered with <code class="code">register-image-restore-hook</code>.
Second, evaluate the prelude, which is often Lisp text that is read,
as per <code class="code">eval-input</code>.
Third, call the <code class="code">entry-point</code> function, if any is specified, with no argument.
</p>
<p>The restore process happens in a <code class="code">with-fatal-condition-handler</code>, so that if <code class="code">lisp-interaction</code> is <code class="code">nil</code>,
any unhandled error leads to a backtrace and an exit with an error status.
If <code class="code">lisp-interaction</code> is <code class="code">nil</code>, the process also exits when no error occurs:
if neither restart nor entry function is provided, the program will exit with status <code class="code">0</code> (success);
if a function was provided, the program will exit after the function returns (if it returns),
with status <code class="code">0</code> if and only if the primary return value of result is generalized boolean true,
and with status <code class="code">1</code> if this value is <code class="code">nil</code>.
</p>
<p>If <code class="code">lisp-interaction</code> is true, unhandled errors will take you to the debugger, and the result
of the function will be returned rather than interpreted as a boolean designating an exit code.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fimage_003ashell_002dboolean_002dexit"></a><dl class="first-deffn">
<dt class="deffn" id="index-shell_002dboolean_002dexit"><span class="category-def">Function: </span><span><strong class="def-name">shell-boolean-exit</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-shell_002dboolean_002dexit"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003ashell_002dboolean_002dexit"></a>
<p>Quit with a return code that is <code class="code">0</code> iff argument <code class="code">x</code> is true
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002fimage_003awith_002dfatal_002dcondition_002dhandler"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dfatal_002dcondition_002dhandler"><span class="category-def">Macro: </span><span><strong class="def-name">with-fatal-condition-handler</strong> <var class="def-var-arguments">(&amp;optional) &amp;body  body</var><a class="copiable-link" href="#index-with_002dfatal_002dcondition_002dhandler"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003awith_002dfatal_002dcondition_002dhandler"></a>
<p>Execute <code class="code">body</code> in a context where fatal conditions are appropriately handled
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002acommand_002dline_002darguments_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002acommand_002dline_002darguments_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*command-line-arguments*</strong><a class="copiable-link" href="#index-_002acommand_002dline_002darguments_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002acommand_002dline_002darguments_002a"></a>
<p>Command-line arguments
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002aimage_002ddump_002dhook_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimage_002ddump_002dhook_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*image-dump-hook*</strong><a class="copiable-link" href="#index-_002aimage_002ddump_002dhook_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002aimage_002ddump_002dhook_002a"></a>
<p>Functions to call (in order) before an image is dumped
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002aimage_002ddumped_002dp_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimage_002ddumped_002dp_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*image-dumped-p*</strong><a class="copiable-link" href="#index-_002aimage_002ddumped_002dp_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002aimage_002ddumped_002dp_002a"></a>
<p>Is this a dumped image? As a standalone executable?
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002aimage_002dentry_002dpoint_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimage_002dentry_002dpoint_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*image-entry-point*</strong><a class="copiable-link" href="#index-_002aimage_002dentry_002dpoint_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002aimage_002dentry_002dpoint_002a"></a>
<p>a function with which to restart the dumped image when execution is restored from it.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002aimage_002dpostlude_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimage_002dpostlude_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*image-postlude*</strong><a class="copiable-link" href="#index-_002aimage_002dpostlude_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002aimage_002dpostlude_002a"></a>
<p>a form to evaluate, or string containing forms to read and evaluate
before the image dump hooks are called and before the image is dumped.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002aimage_002dprelude_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimage_002dprelude_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*image-prelude*</strong><a class="copiable-link" href="#index-_002aimage_002dprelude_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002aimage_002dprelude_002a"></a>
<p>a form to evaluate, or string containing forms to read and evaluate
when the image is restarted, but before the entry point is called.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002aimage_002drestore_002dhook_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aimage_002drestore_002dhook_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*image-restore-hook*</strong><a class="copiable-link" href="#index-_002aimage_002drestore_002dhook_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002aimage_002drestore_002dhook_002a"></a>
<p>Functions to call (in reverse order) when the image is restored
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fimage_003a_002alisp_002dinteraction_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002alisp_002dinteraction_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*lisp-interaction*</strong><a class="copiable-link" href="#index-_002alisp_002dinteraction_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fimage_003a_002alisp_002dinteraction_002a"></a>
<p>Is this an interactive Lisp environment, or is it batch processing?
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fLISP_002dBUILD">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fLAUNCH_002dPROGRAM" accesskey="n" rel="next">UIOP/LAUNCH-PROGRAM</a>, Previous: <a href="#UIOP_002fIMAGE" accesskey="p" rel="prev">UIOP/IMAGE</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fLISP_002dBUILD-1"><span>11 UIOP/LISP-BUILD<a class="copiable-link" href="#UIOP_002fLISP_002dBUILD-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acall_002daround_002dhook"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002daround_002dhook"><span class="category-def">Function: </span><span><strong class="def-name">call-around-hook</strong> <var class="def-var-arguments">hook function</var><a class="copiable-link" href="#index-call_002daround_002dhook"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acall_002daround_002dhook"></a>
<p>Call a <code class="code">hook</code> around the execution of <code class="code">function</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acall_002dwith_002dmuffled_002dcompiler_002dconditions"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dmuffled_002dcompiler_002dconditions"><span class="category-def">Function: </span><span><strong class="def-name">call-with-muffled-compiler-conditions</strong> <var class="def-var-arguments">thunk</var><a class="copiable-link" href="#index-call_002dwith_002dmuffled_002dcompiler_002dconditions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acall_002dwith_002dmuffled_002dcompiler_002dconditions"></a>
<p>Call given <code class="code">thunk</code> in a context where uninteresting conditions and compiler conditions are muffled
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acall_002dwith_002dmuffled_002dloader_002dconditions"></a><dl class="first-deffn">
<dt class="deffn" id="index-call_002dwith_002dmuffled_002dloader_002dconditions"><span class="category-def">Function: </span><span><strong class="def-name">call-with-muffled-loader-conditions</strong> <var class="def-var-arguments">thunk</var><a class="copiable-link" href="#index-call_002dwith_002dmuffled_002dloader_002dconditions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acall_002dwith_002dmuffled_002dloader_002dconditions"></a>
<p>Call given <code class="code">thunk</code> in a context where uninteresting conditions and loader conditions are muffled
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acheck_002ddeferred_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-check_002ddeferred_002dwarnings"><span class="category-def">Function: </span><span><strong class="def-name">check-deferred-warnings</strong> <var class="def-var-arguments">files &amp;optional  context-format context-arguments</var><a class="copiable-link" href="#index-check_002ddeferred_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acheck_002ddeferred_002dwarnings"></a>
<p>Given a list of <code class="code">files</code> containing deferred warnings saved by <code class="code">call-with-saved-deferred-warnings</code>,
re-intern and raise any warnings that are still meaningful.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acheck_002dlisp_002dcompile_002dresults"></a><dl class="first-deffn">
<dt class="deffn" id="index-check_002dlisp_002dcompile_002dresults"><span class="category-def">Function: </span><span><strong class="def-name">check-lisp-compile-results</strong> <var class="def-var-arguments">output warnings-p failure-p &amp;optional  context-format context-arguments</var><a class="copiable-link" href="#index-check_002dlisp_002dcompile_002dresults"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acheck_002dlisp_002dcompile_002dresults"></a>
<p>Given the results of <code class="code">compile-file</code>, raise an error or warning as appropriate
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acheck_002dlisp_002dcompile_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-check_002dlisp_002dcompile_002dwarnings"><span class="category-def">Function: </span><span><strong class="def-name">check-lisp-compile-warnings</strong> <var class="def-var-arguments">warnings-p failure-p &amp;optional  context-format context-arguments</var><a class="copiable-link" href="#index-check_002dlisp_002dcompile_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acheck_002dlisp_002dcompile_002dwarnings"></a>
<p>Given the warnings or failures as resulted from <code class="code">compile-file</code> or checking deferred warnings,
raise an error or warning as appropriate
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acombine_002dfasls"></a><dl class="first-deffn">
<dt class="deffn" id="index-combine_002dfasls"><span class="category-def">Function: </span><span><strong class="def-name">combine-fasls</strong> <var class="def-var-arguments">inputs output</var><a class="copiable-link" href="#index-combine_002dfasls"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acombine_002dfasls"></a>
<p>Combine a list of FASLs <code class="code">inputs</code> into a single FASL <code class="code">output</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acompile_002dfile_002dpathname_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-compile_002dfile_002dpathname_002a"><span class="category-def">Function: </span><span><strong class="def-name">compile-file-pathname*</strong> <var class="def-var-arguments">input-file &amp;rest  keys &amp;key  output-file &amp;allow-other-keys </var><a class="copiable-link" href="#index-compile_002dfile_002dpathname_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acompile_002dfile_002dpathname_002a"></a>
<p>Variant of <code class="code">compile-file-pathname</code> that works well with <code class="code">compile-file*</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acompile_002dfile_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-compile_002dfile_002a"><span class="category-def">Function: </span><span><strong class="def-name">compile-file*</strong> <var class="def-var-arguments">input-file &amp;rest  keys &amp;key  compile-check output-file warnings-file emit-cfasl &amp;allow-other-keys </var><a class="copiable-link" href="#index-compile_002dfile_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acompile_002dfile_002a"></a>
<p>This function provides a portable wrapper around <code class="code">compile-file</code>.
It ensures that the <code class="code">output-file</code> value is only returned and
the file only actually created if the compilation was successful,
even though your implementation may not do that. It also checks an optional
user-provided consistency function <code class="code">compile-check</code> to determine success;
it will call this function if not <code class="code">nil</code> at the end of the compilation
with the arguments sent to <code class="code">compile-file*</code>, except with <code class="code">:output-file</code> <code class="code">tmp-file</code>
where <code class="code">tmp-file</code> is the name of a temporary output-file.
It also checks two flags (with legacy british spelling from <code class="code">asdf1</code>),
<code class="code">*compile-file-failure-behaviour*</code> and <code class="code">*compile-file-warnings-behaviour*</code>
with appropriate implementation-dependent defaults,
and if a failure (respectively warnings) are reported by <code class="code">compile-file</code>,
it will consider that an error unless the respective behaviour flag
is one of <code class="code">:success</code> <code class="code">:warn</code> <code class="code">:ignore</code>.
If <code class="code">warnings-file</code> is defined, deferred warnings are saved to that file.
On ECL or MKCL, it creates both the linkable object and loadable fasl files.
On implementations that erroneously do not recognize standard keyword arguments,
it will filter them appropriately.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acompile_002dfile_002dtype"></a><dl class="first-deffn">
<dt class="deffn" id="index-compile_002dfile_002dtype"><span class="category-def">Function: </span><span><strong class="def-name">compile-file-type</strong> <var class="def-var-arguments">&amp;rest  keys</var><a class="copiable-link" href="#index-compile_002dfile_002dtype"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acompile_002dfile_002dtype"></a>
<p>pathname <code class="code">type</code> for lisp FASt Loading files
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003acurrent_002dlisp_002dfile_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-current_002dlisp_002dfile_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">current-lisp-file-pathname</strong><a class="copiable-link" href="#index-current_002dlisp_002dfile_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003acurrent_002dlisp_002dfile_002dpathname"></a>
<p>Portably return the <code class="code">pathname</code> of the current Lisp source file being compiled or loaded
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003adisable_002ddeferred_002dwarnings_002dcheck"></a><dl class="first-deffn">
<dt class="deffn" id="index-disable_002ddeferred_002dwarnings_002dcheck"><span class="category-def">Function: </span><span><strong class="def-name">disable-deferred-warnings-check</strong><a class="copiable-link" href="#index-disable_002ddeferred_002dwarnings_002dcheck"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003adisable_002ddeferred_002dwarnings_002dcheck"></a>
<p>Disable the saving of deferred warnings
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003aenable_002ddeferred_002dwarnings_002dcheck"></a><dl class="first-deffn">
<dt class="deffn" id="index-enable_002ddeferred_002dwarnings_002dcheck"><span class="category-def">Function: </span><span><strong class="def-name">enable-deferred-warnings-check</strong><a class="copiable-link" href="#index-enable_002ddeferred_002dwarnings_002dcheck"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003aenable_002ddeferred_002dwarnings_002dcheck"></a>
<p>Enable the saving of deferred warnings
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003alispize_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-lispize_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">lispize-pathname</strong> <var class="def-var-arguments">input-file</var><a class="copiable-link" href="#index-lispize_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003alispize_002dpathname"></a>
<p>From a <code class="code">input-file</code> pathname, return a corresponding .lisp source pathname
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003aload_002dfrom_002dstring"></a><dl class="first-deffn">
<dt class="deffn" id="index-load_002dfrom_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">load-from-string</strong> <var class="def-var-arguments">string</var><a class="copiable-link" href="#index-load_002dfrom_002dstring"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003aload_002dfrom_002dstring"></a>
<p>Portably read and evaluate forms from a <code class="code">string</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003aload_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-load_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">load-pathname</strong><a class="copiable-link" href="#index-load_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003aload_002dpathname"></a>
<p>Portably return the <code class="code">load-pathname</code> of the current source file or fasl.
    May return a relative pathname.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003aload_002a"></a><dl class="first-deffn">
<dt class="deffn" id="index-load_002a"><span class="category-def">Function: </span><span><strong class="def-name">load*</strong> <var class="def-var-arguments">x &amp;rest  keys &amp;key  &amp;allow-other-keys </var><a class="copiable-link" href="#index-load_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003aload_002a"></a>
<p>Portable wrapper around <code class="code">load</code> that properly handles loading from a stream.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003areify_002ddeferred_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-reify_002ddeferred_002dwarnings"><span class="category-def">Function: </span><span><strong class="def-name">reify-deferred-warnings</strong><a class="copiable-link" href="#index-reify_002ddeferred_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003areify_002ddeferred_002dwarnings"></a>
<p>return a portable S-expression, portably readable and writeable in any Common Lisp implementation
using <code class="code">read</code> within a <code class="code">with-safe-io-syntax</code>, that represents the warnings currently deferred by
<code class="code">with-compilation-unit</code>. One of three functions required for deferred-warnings support in ASDF.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003areify_002dsimple_002dsexp"></a><dl class="first-deffn">
<dt class="deffn" id="index-reify_002dsimple_002dsexp"><span class="category-def">Function: </span><span><strong class="def-name">reify-simple-sexp</strong> <var class="def-var-arguments">sexp</var><a class="copiable-link" href="#index-reify_002dsimple_002dsexp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003areify_002dsimple_002dsexp"></a>
<p>Given a simple <code class="code">sexp</code>, return a representation of it as a portable <code class="code">sexp</code>.
Simple means made of symbols, numbers, characters, simple-strings, pathnames, cons cells.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003areset_002ddeferred_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-reset_002ddeferred_002dwarnings"><span class="category-def">Function: </span><span><strong class="def-name">reset-deferred-warnings</strong><a class="copiable-link" href="#index-reset_002ddeferred_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003areset_002ddeferred_002dwarnings"></a>
<p>Reset the set of deferred warnings to be handled at the end of the current <code class="code">with-compilation-unit</code>.
One of three functions required for deferred-warnings support in ASDF.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003asave_002ddeferred_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-save_002ddeferred_002dwarnings"><span class="category-def">Function: </span><span><strong class="def-name">save-deferred-warnings</strong> <var class="def-var-arguments">warnings-file</var><a class="copiable-link" href="#index-save_002ddeferred_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003asave_002ddeferred_002dwarnings"></a>
<p>Save forward reference conditions so they may be issued at a latter time,
possibly in a different process.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003aunreify_002ddeferred_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-unreify_002ddeferred_002dwarnings"><span class="category-def">Function: </span><span><strong class="def-name">unreify-deferred-warnings</strong> <var class="def-var-arguments">reified-deferred-warnings</var><a class="copiable-link" href="#index-unreify_002ddeferred_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003aunreify_002ddeferred_002dwarnings"></a>
<p>given a S-expression created by <code class="code">reify-deferred-warnings</code>, reinstantiate the corresponding
deferred warnings as to be handled at the end of the current <code class="code">with-compilation-unit</code>.
Handle any warning that has been resolved already,
such as an undefined function that has been defined since.
One of three functions required for deferred-warnings support in ASDF.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003aunreify_002dsimple_002dsexp"></a><dl class="first-deffn">
<dt class="deffn" id="index-unreify_002dsimple_002dsexp"><span class="category-def">Function: </span><span><strong class="def-name">unreify-simple-sexp</strong> <var class="def-var-arguments">sexp</var><a class="copiable-link" href="#index-unreify_002dsimple_002dsexp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003aunreify_002dsimple_002dsexp"></a>
<p>Given the portable output of <code class="code">reify-simple-sexp</code>, return the simple <code class="code">sexp</code> it represents
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003awarnings_002dfile_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-warnings_002dfile_002dp"><span class="category-def">Function: </span><span><strong class="def-name">warnings-file-p</strong> <var class="def-var-arguments">file &amp;optional  implementation-type</var><a class="copiable-link" href="#index-warnings_002dfile_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003awarnings_002dfile_002dp"></a>
<p>Is <code class="code">file</code> a saved warnings file for the given <code class="code">implementation-type</code>?
If that given type is <code class="code">nil</code>, use the currently configured <code class="code">*warnings-file-type*</code> instead.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flisp_002dbuild_003awarnings_002dfile_002dtype"></a><dl class="first-deffn">
<dt class="deffn" id="index-warnings_002dfile_002dtype"><span class="category-def">Function: </span><span><strong class="def-name">warnings-file-type</strong> <var class="def-var-arguments">&amp;optional  implementation-type</var><a class="copiable-link" href="#index-warnings_002dfile_002dtype"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003awarnings_002dfile_002dtype"></a>
<p>The pathname type for warnings files on given <code class="code">implementation-type</code>,
where <code class="code">nil</code> designates the current one
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002flisp_002dbuild_003awith_002dmuffled_002dcompiler_002dconditions"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dmuffled_002dcompiler_002dconditions"><span class="category-def">Macro: </span><span><strong class="def-name">with-muffled-compiler-conditions</strong> <var class="def-var-arguments">(&amp;optional) &amp;body  body</var><a class="copiable-link" href="#index-with_002dmuffled_002dcompiler_002dconditions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003awith_002dmuffled_002dcompiler_002dconditions"></a>
<p>Trivial syntax for <code class="code">call-with-muffled-compiler-conditions</code>
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002flisp_002dbuild_003awith_002dmuffled_002dloader_002dconditions"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dmuffled_002dloader_002dconditions"><span class="category-def">Macro: </span><span><strong class="def-name">with-muffled-loader-conditions</strong> <var class="def-var-arguments">(&amp;optional) &amp;body  body</var><a class="copiable-link" href="#index-with_002dmuffled_002dloader_002dconditions"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003awith_002dmuffled_002dloader_002dconditions"></a>
<p>Trivial syntax for <code class="code">call-with-muffled-loader-conditions</code>
</p></dd></dl>
<a class="anchor" id="Macro-uiop_002flisp_002dbuild_003awith_002dsaved_002ddeferred_002dwarnings"></a><dl class="first-deffn">
<dt class="deffn" id="index-with_002dsaved_002ddeferred_002dwarnings"><span class="category-def">Macro: </span><span><strong class="def-name">with-saved-deferred-warnings</strong> <var class="def-var-arguments">(warnings-file &amp;key source-namestring) &amp;body  body</var><a class="copiable-link" href="#index-with_002dsaved_002ddeferred_002dwarnings"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003awith_002dsaved_002ddeferred_002dwarnings"></a>
<p>Trivial syntax for <code class="code">call-with-saved-deferred-warnings</code>
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002abase_002dbuild_002ddirectory_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002abase_002dbuild_002ddirectory_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*base-build-directory*</strong><a class="copiable-link" href="#index-_002abase_002dbuild_002ddirectory_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002abase_002dbuild_002ddirectory_002a"></a>
<p>When set to a non-null value, it should be an absolute directory pathname,
which will serve as the <code class="code">*default-pathname-defaults*</code> around a <code class="code">compile-file</code>,
what more while the input-file is shortened if possible to <code class="code">enough-pathname</code> relative to it.
This can help you produce more deterministic output for FASLs.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002acompile_002dcheck_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002acompile_002dcheck_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*compile-check*</strong><a class="copiable-link" href="#index-_002acompile_002dcheck_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002acompile_002dcheck_002a"></a>
<p>A hook for user-defined compile-time invariants
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002acompile_002dfile_002dfailure_002dbehaviour_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002acompile_002dfile_002dfailure_002dbehaviour_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*compile-file-failure-behaviour*</strong><a class="copiable-link" href="#index-_002acompile_002dfile_002dfailure_002dbehaviour_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002acompile_002dfile_002dfailure_002dbehaviour_002a"></a>
<p>How should ASDF react if it encounters a failure (per the ANSI spec of <code class="code">compile-file</code>)
when compiling a file, which includes any non-style-warning warning.
Valid values are :error, :warn, and :ignore.
Note that ASDF <code class="code">always</code> raises an error if it fails to create an output file when compiling.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002acompile_002dfile_002dwarnings_002dbehaviour_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002acompile_002dfile_002dwarnings_002dbehaviour_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*compile-file-warnings-behaviour*</strong><a class="copiable-link" href="#index-_002acompile_002dfile_002dwarnings_002dbehaviour_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002acompile_002dfile_002dwarnings_002dbehaviour_002a"></a>
<p>How should ASDF react if it encounters a warning when compiling a file?
Valid values are :error, :warn, and :ignore.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002aoutput_002dtranslation_002dfunction_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aoutput_002dtranslation_002dfunction_002a-1"><span class="category-def">Variable: </span><span><strong class="def-name">*output-translation-function*</strong><a class="copiable-link" href="#index-_002aoutput_002dtranslation_002dfunction_002a-1"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002aoutput_002dtranslation_002dfunction_002a"></a>
<p>Hook for output translations.
</p>
<p>This function needs to be idempotent, so that actions can work
whether their inputs were translated or not,
which they will be if we are composing operations. e.g. if some
create-lisp-op creates a lisp file from some higher-level input,
you need to still be able to use compile-op on that lisp file.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002auninteresting_002dcompiler_002dconditions_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002auninteresting_002dcompiler_002dconditions_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*uninteresting-compiler-conditions*</strong><a class="copiable-link" href="#index-_002auninteresting_002dcompiler_002dconditions_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002auninteresting_002dcompiler_002dconditions_002a"></a>
<p>Additional conditions that may be skipped while compiling Lisp code.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002auninteresting_002dconditions_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002auninteresting_002dconditions_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*uninteresting-conditions*</strong><a class="copiable-link" href="#index-_002auninteresting_002dconditions_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002auninteresting_002dconditions_002a"></a>
<p>Conditions that may be skipped while compiling or loading Lisp code.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002auninteresting_002dloader_002dconditions_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002auninteresting_002dloader_002dconditions_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*uninteresting-loader-conditions*</strong><a class="copiable-link" href="#index-_002auninteresting_002dloader_002dconditions_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002auninteresting_002dloader_002dconditions_002a"></a>
<p>Additional conditions that may be skipped while loading Lisp code.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002ausual_002duninteresting_002dconditions_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002ausual_002duninteresting_002dconditions_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*usual-uninteresting-conditions*</strong><a class="copiable-link" href="#index-_002ausual_002duninteresting_002dconditions_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002ausual_002duninteresting_002dconditions_002a"></a>
<p>A suggested value to which to set or bind *uninteresting-conditions*.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002flisp_002dbuild_003a_002awarnings_002dfile_002dtype_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002awarnings_002dfile_002dtype_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*warnings-file-type*</strong><a class="copiable-link" href="#index-_002awarnings_002dfile_002dtype_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flisp_002dbuild_003a_002awarnings_002dfile_002dtype_002a"></a>
<p>Pathname type for warnings files, or <code class="code">nil</code> if disabled
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fLAUNCH_002dPROGRAM">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fRUN_002dPROGRAM" accesskey="n" rel="next">UIOP/RUN-PROGRAM</a>, Previous: <a href="#UIOP_002fLISP_002dBUILD" accesskey="p" rel="prev">UIOP/LISP-BUILD</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fLAUNCH_002dPROGRAM-1"><span>12 UIOP/LAUNCH-PROGRAM<a class="copiable-link" href="#UIOP_002fLAUNCH_002dPROGRAM-1"> ¶</a></span></h2>

<p><code class="code">uiop/launch-program</code> semi-portably launches a program as an
asynchronous external subprocess. Available functionality may depend
on the underlying implementation.
</p>
<a class="anchor" id="Class-uiop_002flaunch_002dprogram_003aprocess_002dinfo"></a><dl class="first-deftp">
<dt class="deftp" id="index-process_002dinfo"><span class="category-def">Class: </span><span><strong class="def-name">process-info</strong><a class="copiable-link" href="#index-process_002dinfo"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aprocess_002dinfo"></a>
<p>Class precedence list: <code class="code">process-info, standard-object, t</code>
</p>
<p>This class should be treated as opaque by programmers, except for the
exported <code class="code">process-info-*</code> functions.  It should never be directly instantiated by
<code class="code">make-instance</code>. Primarily, it is being made available to enable type-checking.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aclose_002dstreams"></a><dl class="first-deffn">
<dt class="deffn" id="index-close_002dstreams"><span class="category-def">Function: </span><span><strong class="def-name">close-streams</strong> <var class="def-var-arguments">process-info</var><a class="copiable-link" href="#index-close_002dstreams"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aclose_002dstreams"></a>
<p>Close any stream that the process might own. Needs to be run
whenever streams were requested by passing :stream to :input, :output,
or :error-output.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aeasy_002dsh_002dcharacter_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-easy_002dsh_002dcharacter_002dp"><span class="category-def">Function: </span><span><strong class="def-name">easy-sh-character-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-easy_002dsh_002dcharacter_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aeasy_002dsh_002dcharacter_002dp"></a>
<p>Is <code class="code">x</code> an "easy" character that does not require quoting by the shell?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dcommand"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dcommand"><span class="category-def">Function: </span><span><strong class="def-name">escape-command</strong> <var class="def-var-arguments">command &amp;optional  s escaper</var><a class="copiable-link" href="#index-escape_002dcommand"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dcommand"></a>
<p>Given a <code class="code">command</code> as a list of tokens, return a string of the
spaced, escaped tokens, using <code class="code">escaper</code> to escape.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dsh_002dcommand"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dsh_002dcommand"><span class="category-def">Function: </span><span><strong class="def-name">escape-sh-command</strong> <var class="def-var-arguments">command &amp;optional  s</var><a class="copiable-link" href="#index-escape_002dsh_002dcommand"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dsh_002dcommand"></a>
<p>Escape a list of command-line arguments into a string suitable for parsing
by /bin/sh in POSIX
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dsh_002dtoken"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dsh_002dtoken"><span class="category-def">Function: </span><span><strong class="def-name">escape-sh-token</strong> <var class="def-var-arguments">token &amp;optional  s</var><a class="copiable-link" href="#index-escape_002dsh_002dtoken"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dsh_002dtoken"></a>
<p>Escape a string <code class="code">token</code> within double-quotes if needed
for use within a POSIX Bourne shell, outputing to <code class="code">s</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dshell_002dcommand"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dshell_002dcommand"><span class="category-def">Function: </span><span><strong class="def-name">escape-shell-command</strong> <var class="def-var-arguments">command &amp;optional  stream</var><a class="copiable-link" href="#index-escape_002dshell_002dcommand"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dshell_002dcommand"></a>
<p>Escape a command for the current operating system’s shell
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dshell_002dtoken"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dshell_002dtoken"><span class="category-def">Function: </span><span><strong class="def-name">escape-shell-token</strong> <var class="def-var-arguments">token &amp;optional  s</var><a class="copiable-link" href="#index-escape_002dshell_002dtoken"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dshell_002dtoken"></a>
<p>Escape a token for the current operating system shell
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dtoken"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dtoken"><span class="category-def">Function: </span><span><strong class="def-name">escape-token</strong> <var class="def-var-arguments">token &amp;key  stream quote good-chars bad-chars escaper</var><a class="copiable-link" href="#index-escape_002dtoken"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dtoken"></a>
<p>Call the <code class="code">escaper</code> function on <code class="code">token</code> string if it needs escaping as per
<code class="code">requires-escaping-p</code> using <code class="code">good-chars</code> and <code class="code">bad-chars</code>, otherwise output <code class="code">token</code>,
using <code class="code">stream</code> as output (or returning result as a string if <code class="code">nil</code>)
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dwindows_002dcommand"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dwindows_002dcommand"><span class="category-def">Function: </span><span><strong class="def-name">escape-windows-command</strong> <var class="def-var-arguments">command &amp;optional  s</var><a class="copiable-link" href="#index-escape_002dwindows_002dcommand"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dwindows_002dcommand"></a>
<p>Escape a list of command-line arguments into a string suitable for parsing
by CommandLineToArgv in <code class="code">ms</code> Windows
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aescape_002dwindows_002dtoken"></a><dl class="first-deffn">
<dt class="deffn" id="index-escape_002dwindows_002dtoken"><span class="category-def">Function: </span><span><strong class="def-name">escape-windows-token</strong> <var class="def-var-arguments">token &amp;optional  s</var><a class="copiable-link" href="#index-escape_002dwindows_002dtoken"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aescape_002dwindows_002dtoken"></a>
<p>Escape a string <code class="code">token</code> within double-quotes if needed
for use within a <code class="code">ms</code> Windows command-line, outputing to <code class="code">s</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003alaunch_002dprogram"></a><dl class="first-deffn">
<dt class="deffn" id="index-launch_002dprogram"><span class="category-def">Function: </span><span><strong class="def-name">launch-program</strong> <var class="def-var-arguments">command
 &amp;rest  keys &amp;key  input if-input-does-not-exist output 
if-output-exists error-output if-error-output-exists element-type 
external-format directory &amp;allow-other-keys </var><a class="copiable-link" href="#index-launch_002dprogram"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003alaunch_002dprogram"></a>
<p>Launch program specified by <code class="code">command</code>,
either a list of strings specifying a program and list of arguments,
or a string specifying a shell command (/bin/sh on Unix, <code class="code">cmd</code>.<code class="code">exe</code> on
Windows) _asynchronously_.
</p>
<p>If <code class="code">output</code> is a pathname, a string designating a pathname, or <code class="code">nil</code> (the
default) designating the null device, the file at that path is used as
output.
If it’s <code class="code">:interactive</code>, output is inherited from the current process;
beware that this may be different from your <code class="code">*standard-output*</code>, and
under <code class="code">slime</code> will be on your *inferior-lisp* buffer.  If it’s <code class="code">t</code>, output
goes to your current <code class="code">*standard-output*</code> stream.  If it’s <code class="code">:stream</code>, a new
stream will be made available that can be accessed via
<code class="code">process-info-output</code> and read from. Otherwise, <code class="code">output</code> should be a value
that the underlying lisp implementation knows how to handle.
</p>
<p><code class="code">if-output-exists</code>, which is only meaningful if <code class="code">output</code> is a string or a
pathname, can take the values <code class="code">:error</code>, <code class="code">:append</code>, and <code class="code">:supersede</code> (the
default). The meaning of these values and their effect on the case
where <code class="code">output</code> does not exist, is analogous to the <code class="code">if-exists</code> parameter
to <code class="code">open</code> with <code class="code">:direction</code> <code class="code">:output</code>.
</p>
<p><code class="code">error-output</code> is similar to <code class="code">output</code>. <code class="code">t</code> designates the <code class="code">*error-output*</code>,
<code class="code">:output</code> means redirecting the error output to the output stream,
and <code class="code">:stream</code> causes a stream to be made available via
<code class="code">process-info-error-output</code>.
</p>
<p><code class="code">if-error-output-exists</code> is similar to <code class="code">if-output-exist</code>, except that it
affects <code class="code">error-output</code> rather than <code class="code">output</code>.
</p>
<p><code class="code">input</code> is similar to <code class="code">output</code>, except that <code class="code">t</code> designates the
<code class="code">*standard-input*</code> and a stream requested through the <code class="code">:stream</code> keyword
would be available through <code class="code">process-info-input</code>.
</p>
<p><code class="code">if-input-does-not-exist</code>, which is only meaningful if <code class="code">input</code> is a string
or a pathname, can take the values <code class="code">:create</code> and <code class="code">:error</code> (the
default). The meaning of these values is analogous to the
<code class="code">if-does-not-exist</code> parameter to <code class="code">open</code> with <code class="code">:direction</code> <code class="code">:input</code>.
</p>
<p><code class="code">element-type</code> and <code class="code">external-format</code> are passed on to your Lisp
implementation, when applicable, for creation of the output stream.
</p>
<p><code class="code">launch-program</code> returns a <code class="code">process-info</code> object.
</p>
<p><code class="code">launch-program</code> currently does not smooth over all the differences between
implementations. Of particular note is when streams are provided for <code class="code">output</code> or
<code class="code">error-output</code>. Some implementations don’t support this at all, some support only
certain subclasses of streams, and some support any arbitrary
stream. Additionally, the implementations that support streams may have
differing behavior on how those streams are filled with data. If data is not
periodically read from the child process and sent to the stream, the child
could block because its output buffers are full.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aprocess_002dalive_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-process_002dalive_002dp"><span class="category-def">Function: </span><span><strong class="def-name">process-alive-p</strong> <var class="def-var-arguments">process-info</var><a class="copiable-link" href="#index-process_002dalive_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aprocess_002dalive_002dp"></a>
<p>Check if a process has yet to exit.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003aterminate_002dprocess"></a><dl class="first-deffn">
<dt class="deffn" id="index-terminate_002dprocess"><span class="category-def">Function: </span><span><strong class="def-name">terminate-process</strong> <var class="def-var-arguments">process-info &amp;key  urgent</var><a class="copiable-link" href="#index-terminate_002dprocess"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003aterminate_002dprocess"></a>
<p>Cause the process to exit. To that end, the process may or may
not be sent a signal, which it will find harder (or even impossible)
to ignore if <code class="code">urgent</code> is <code class="code">t</code>. On some platforms, it may also be subject to
race conditions.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002flaunch_002dprogram_003await_002dprocess"></a><dl class="first-deffn">
<dt class="deffn" id="index-wait_002dprocess"><span class="category-def">Function: </span><span><strong class="def-name">wait-process</strong> <var class="def-var-arguments">process-info</var><a class="copiable-link" href="#index-wait_002dprocess"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002flaunch_002dprogram_003await_002dprocess"></a>
<p>Wait for the process to terminate, if it is still running.
Otherwise, return immediately. An exit code (a number) will be
returned, with <code class="code">0</code> indicating success, and anything else indicating
failure. If the process exits after receiving a signal, the exit code
will be the sum of <code class="code">128</code> and the (positive) numeric signal code. A second
value may be returned in this case: the numeric signal code itself.
Any asynchronously spawned process requires this function to be run
before it is garbage-collected in order to free up resources that
might otherwise be irrevocably lost.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fRUN_002dPROGRAM">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fCONFIGURATION" accesskey="n" rel="next">UIOP/CONFIGURATION</a>, Previous: <a href="#UIOP_002fLAUNCH_002dPROGRAM" accesskey="p" rel="prev">UIOP/LAUNCH-PROGRAM</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fRUN_002dPROGRAM-1"><span>13 UIOP/RUN-PROGRAM<a class="copiable-link" href="#UIOP_002fRUN_002dPROGRAM-1"> ¶</a></span></h2>

<p><code class="code">uiop/run-program</code> fully portably runs a program as a synchronous
external subprocess.
</p>
<a class="anchor" id="Function-uiop_002frun_002dprogram_003arun_002dprogram"></a><dl class="first-deffn">
<dt class="deffn" id="index-run_002dprogram"><span class="category-def">Function: </span><span><strong class="def-name">run-program</strong> <var class="def-var-arguments">command
 &amp;rest  keys &amp;key  ignore-error-status force-shell input 
if-input-does-not-exist output if-output-exists error-output 
if-error-output-exists element-type external-format 
&amp;allow-other-keys </var><a class="copiable-link" href="#index-run_002dprogram"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002frun_002dprogram_003arun_002dprogram"></a>
<p>Run program specified by <code class="code">command</code>,
either a list of strings specifying a program and list of arguments,
or a string specifying a shell command (/bin/sh on Unix, <code class="code">cmd</code>.<code class="code">exe</code> on Windows);
_synchronously_ process its output as specified and return the processing results
when the program and its output processing are complete.
</p>
<p>Always call a shell (rather than directly execute the command when possible)
if <code class="code">force-shell</code> is specified.  Similarly, never call a shell if <code class="code">force-shell</code> is
specified to be <code class="code">nil</code>.
</p>
<p>Signal a continuable <code class="code">subprocess-error</code> if the process wasn’t successful (exit-code <code class="code">0</code>),
unless <code class="code">ignore-error-status</code> is specified.
</p>
<p>If <code class="code">output</code> is a pathname, a string designating a pathname, or <code class="code">nil</code> (the default)
designating the null device, the file at that path is used as output.
If it’s <code class="code">:interactive</code>, output is inherited from the current process;
beware that this may be different from your <code class="code">*standard-output*</code>,
and under <code class="code">slime</code> will be on your *inferior-lisp* buffer.
If it’s <code class="code">t</code>, output goes to your current <code class="code">*standard-output*</code> stream.
Otherwise, <code class="code">output</code> should be a value that is a suitable first argument to
<code class="code">slurp-input-stream</code> (qv.), or a list of such a value and keyword arguments.
In this case, <code class="code">run-program</code> will create a temporary stream for the program output;
the program output, in that stream, will be processed by a call to <code class="code">slurp-input-stream</code>,
using <code class="code">output</code> as the first argument (or the first element of <code class="code">output</code>, and the rest as keywords).
The primary value resulting from that call (or <code class="code">nil</code> if no call was needed)
will be the first value returned by <code class="code">run-program</code>.
<code class="code">e</code>.g., using <code class="code">:output</code> <code class="code">:string</code> will have it return the entire output stream as a string.
And using <code class="code">:output</code> ’(<code class="code">:string</code> <code class="code">:stripped</code> <code class="code">t</code>) will have it return the same string
stripped of any ending newline.
</p>
<p><code class="code">if-output-exists</code>, which is only meaningful if <code class="code">output</code> is a string or a
pathname, can take the values <code class="code">:error</code>, <code class="code">:append</code>, and <code class="code">:supersede</code> (the
default). The meaning of these values and their effect on the case
where <code class="code">output</code> does not exist, is analogous to the <code class="code">if-exists</code> parameter
to <code class="code">open</code> with <code class="code">:direction</code> <code class="code">:output</code>.
</p>
<p><code class="code">error-output</code> is similar to <code class="code">output</code>, except that the resulting value is returned
as the second value of <code class="code">run-program</code>. <code class="code">t</code> designates the <code class="code">*error-output*</code>.
Also <code class="code">:output</code> means redirecting the error output to the output stream,
in which case <code class="code">nil</code> is returned.
</p>
<p><code class="code">if-error-output-exists</code> is similar to <code class="code">if-output-exist</code>, except that it
affects <code class="code">error-output</code> rather than <code class="code">output</code>.
</p>
<p><code class="code">input</code> is similar to <code class="code">output</code>, except that <code class="code">vomit-output-stream</code> is used,
no value is returned, and <code class="code">t</code> designates the <code class="code">*standard-input*</code>.
</p>
<p><code class="code">if-input-does-not-exist</code>, which is only meaningful if <code class="code">input</code> is a string
or a pathname, can take the values <code class="code">:create</code> and <code class="code">:error</code> (the
default). The meaning of these values is analogous to the
<code class="code">if-does-not-exist</code> parameter to <code class="code">open</code> with <code class="code">:direction</code> <code class="code">:input</code>.
</p>
<p><code class="code">element-type</code> and <code class="code">external-format</code> are passed on
to your Lisp implementation, when applicable, for creation of the output stream.
</p>
<p>One and only one of the stream slurping or vomiting may or may not happen
in parallel in parallel with the subprocess,
depending on options and implementation,
and with priority being given to output processing.
Other streams are completely produced or consumed
before or after the subprocess is spawned, using temporary files.
</p>
<p><code class="code">run-program</code> returns <code class="code">3</code> values:
<code class="code">0-</code> the result of the <code class="code">output</code> slurping if any, or <code class="code">nil</code>
<code class="code">1-</code> the result of the <code class="code">error-output</code> slurping if any, or <code class="code">nil</code>
<code class="code">2-</code> either <code class="code">0</code> if the subprocess exited with success status,
or an indication of failure via the <code class="code">exit-code</code> of the process
</p></dd></dl>
<a class="anchor" id="Generic_002dFunction-uiop_002frun_002dprogram_003aslurp_002dinput_002dstream"></a><dl class="first-deffn">
<dt class="deffn" id="index-slurp_002dinput_002dstream"><span class="category-def">Generic Function: </span><span><strong class="def-name">slurp-input-stream</strong> <var class="def-var-arguments">processor
 input-stream &amp;key  linewise prefix element-type buffer-size 
external-format if-exists if-does-not-exist at count stripped 
&amp;allow-other-keys </var><a class="copiable-link" href="#index-slurp_002dinput_002dstream"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002frun_002dprogram_003aslurp_002dinput_002dstream"></a>
<p><code class="code">slurp-input-stream</code> is a generic function with two positional arguments
<code class="code">processor</code> and <code class="code">input-stream</code> and additional keyword arguments, that consumes (slurps)
the contents of the <code class="code">input-stream</code> and processes them according to a method
specified by <code class="code">processor</code>.
</p>
<p>Built-in methods include the following:
</p><ul class="itemize mark-bullet">
<li>if <code class="code">processor</code> is a function, it is called with the <code class="code">input-stream</code> as its argument
</li><li>if <code class="code">processor</code> is a list, its first element should be a function.  It will be applied to a cons of the
  <code class="code">input-stream</code> and the rest of the list.  That is (x . y) will be treated as
    (<code class="code">apply</code> x &lt;stream&gt; y)
</li><li>if <code class="code">processor</code> is an output-stream, the contents of <code class="code">input-stream</code> is copied to the output-stream,
  per copy-stream-to-stream, with appropriate keyword arguments.
</li><li>if <code class="code">processor</code> is the symbol <code class="code">cl:string</code> or the keyword <code class="code">:string</code>, then the contents of <code class="code">input-stream</code>
  are returned as a string, as per <code class="code">slurp-stream-string</code>.
</li><li>if <code class="code">processor</code> is the keyword <code class="code">:lines</code> then the <code class="code">input-stream</code> will be handled by <code class="code">slurp-stream-lines</code>.
</li><li>if <code class="code">processor</code> is the keyword <code class="code">:line</code> then the <code class="code">input-stream</code> will be handled by <code class="code">slurp-stream-line</code>.
</li><li>if <code class="code">processor</code> is the keyword <code class="code">:forms</code> then the <code class="code">input-stream</code> will be handled by <code class="code">slurp-stream-forms</code>.
</li><li>if <code class="code">processor</code> is the keyword <code class="code">:form</code> then the <code class="code">input-stream</code> will be handled by <code class="code">slurp-stream-form</code>.
</li><li>if <code class="code">processor</code> is <code class="code">t</code>, it is treated the same as *standard-output*. If it is <code class="code">nil</code>, <code class="code">nil</code> is returned.

</li></ul>
<p>Programmers are encouraged to define their own methods for this generic function.
</p></dd></dl>
<a class="anchor" id="Generic_002dFunction-uiop_002frun_002dprogram_003avomit_002doutput_002dstream"></a><dl class="first-deffn">
<dt class="deffn" id="index-vomit_002doutput_002dstream"><span class="category-def">Generic Function: </span><span><strong class="def-name">vomit-output-stream</strong> <var class="def-var-arguments">processor
 output-stream &amp;key  linewise prefix element-type buffer-size 
external-format if-exists if-does-not-exist fresh-line terpri 
&amp;allow-other-keys </var><a class="copiable-link" href="#index-vomit_002doutput_002dstream"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002frun_002dprogram_003avomit_002doutput_002dstream"></a>
<p><code class="code">vomit-output-stream</code> is a generic function with two positional arguments
<code class="code">processor</code> and <code class="code">output-stream</code> and additional keyword arguments, that produces (vomits)
some content onto the <code class="code">output-stream</code>, according to a method specified by <code class="code">processor</code>.
</p>
<p>Built-in methods include the following:
</p><ul class="itemize mark-bullet">
<li>if <code class="code">processor</code> is a function, it is called with the <code class="code">output-stream</code> as its argument
</li><li>if <code class="code">processor</code> is a list, its first element should be a function.
  It will be applied to a cons of the <code class="code">output-stream</code> and the rest of the list.
  That is (x . y) will be treated as (<code class="code">apply</code> x &lt;stream&gt; y)
</li><li>if <code class="code">processor</code> is an input-stream, its contents will be copied the <code class="code">output-stream</code>,
  per copy-stream-to-stream, with appropriate keyword arguments.
</li><li>if <code class="code">processor</code> is a string, its contents will be printed to the <code class="code">output-stream</code>.
</li><li>if <code class="code">processor</code> is <code class="code">t</code>, it is treated the same as *standard-input*. If it is <code class="code">nil</code>, nothing is done.

</li></ul>
<p>Programmers are encouraged to define their own methods for this generic function.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fCONFIGURATION">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fBACKWARD_002dDRIVER" accesskey="n" rel="next">UIOP/BACKWARD-DRIVER</a>, Previous: <a href="#UIOP_002fRUN_002dPROGRAM" accesskey="p" rel="prev">UIOP/RUN-PROGRAM</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fCONFIGURATION-1"><span>14 UIOP/CONFIGURATION<a class="copiable-link" href="#UIOP_002fCONFIGURATION-1"> ¶</a></span></h2>

<a class="anchor" id="Function-uiop_002fconfiguration_003aclear_002dconfiguration"></a><dl class="first-deffn">
<dt class="deffn" id="index-clear_002dconfiguration"><span class="category-def">Function: </span><span><strong class="def-name">clear-configuration</strong><a class="copiable-link" href="#index-clear_002dconfiguration"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aclear_002dconfiguration"></a>
<p>Call the functions in <code class="code">*clear-configuration-hook*</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aconfiguration_002dinheritance_002ddirective_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-configuration_002dinheritance_002ddirective_002dp"><span class="category-def">Function: </span><span><strong class="def-name">configuration-inheritance-directive-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-configuration_002dinheritance_002ddirective_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aconfiguration_002dinheritance_002ddirective_002dp"></a>
<p>Is <code class="code">x</code> a configuration inheritance directive?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003afilter_002dpathname_002dset"></a><dl class="first-deffn">
<dt class="deffn" id="index-filter_002dpathname_002dset"><span class="category-def">Function: </span><span><strong class="def-name">filter-pathname-set</strong> <var class="def-var-arguments">dirs</var><a class="copiable-link" href="#index-filter_002dpathname_002dset"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003afilter_002dpathname_002dset"></a>
<p>Parse strings as unix namestrings and remove duplicates and non absolute-pathnames in a list.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003afind_002dpreferred_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-find_002dpreferred_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">find-preferred-file</strong> <var class="def-var-arguments">files &amp;key  direction</var><a class="copiable-link" href="#index-find_002dpreferred_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003afind_002dpreferred_002dfile"></a>
<p>Find first file in the list of <code class="code">files</code> that exists (for direction :input or :probe)
or just the first one (for direction :output or :io).
    Note that when we say "file" here, the files in question may be directories.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aget_002dfolder_002dpath"></a><dl class="first-deffn">
<dt class="deffn" id="index-get_002dfolder_002dpath"><span class="category-def">Function: </span><span><strong class="def-name">get-folder-path</strong> <var class="def-var-arguments">folder</var><a class="copiable-link" href="#index-get_002dfolder_002dpath"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aget_002dfolder_002dpath"></a>
<p>Semi-portable implementation of a subset of LispWorks’ sys:get-folder-path,
this function tries to locate the Windows <code class="code">folder</code> for one of
<code class="code">:local-appdata</code>, <code class="code">:appdata</code> or <code class="code">:common-appdata</code>.
     Returns <code class="code">nil</code> when the folder is not defined (e.g., not on Windows).
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003ain_002dfirst_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-in_002dfirst_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">in-first-directory</strong> <var class="def-var-arguments">dirs x &amp;key  direction</var><a class="copiable-link" href="#index-in_002dfirst_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003ain_002dfirst_002ddirectory"></a>
<p>Finds the first appropriate file named <code class="code">x</code> in the list of <code class="code">dirs</code> for I/O
in <code class="code">direction</code> (which may be <code class="code">:input</code>, <code class="code">:output</code>, <code class="code">:io</code>, or <code class="code">:probe</code>).
If direction is <code class="code">:input</code> or <code class="code">:probe</code>, will return the first extant file named
<code class="code">x</code> in one of the <code class="code">dirs</code>.
If direction is <code class="code">:output</code> or <code class="code">:io</code>, will simply return the file named <code class="code">x</code> in the
first element of <code class="code">dirs</code> that exists. <code class="code">deprecated</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003ain_002dsystem_002dconfiguration_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-in_002dsystem_002dconfiguration_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">in-system-configuration-directory</strong> <var class="def-var-arguments">x &amp;key  direction</var><a class="copiable-link" href="#index-in_002dsystem_002dconfiguration_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003ain_002dsystem_002dconfiguration_002ddirectory"></a>
<p>Return the pathname for the file named <code class="code">x</code> under the system configuration directory
for common-lisp. <code class="code">deprecated</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003ain_002duser_002dconfiguration_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-in_002duser_002dconfiguration_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">in-user-configuration-directory</strong> <var class="def-var-arguments">x &amp;key  direction</var><a class="copiable-link" href="#index-in_002duser_002dconfiguration_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003ain_002duser_002dconfiguration_002ddirectory"></a>
<p>Return the file named <code class="code">x</code> in the user configuration directory for common-lisp.
<code class="code">deprecated</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003alocation_002ddesignator_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-location_002ddesignator_002dp"><span class="category-def">Function: </span><span><strong class="def-name">location-designator-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-location_002ddesignator_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003alocation_002ddesignator_002dp"></a>
<p>Is <code class="code">x</code> a designator for a location?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003alocation_002dfunction_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-location_002dfunction_002dp"><span class="category-def">Function: </span><span><strong class="def-name">location-function-p</strong> <var class="def-var-arguments">x</var><a class="copiable-link" href="#index-location_002dfunction_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003alocation_002dfunction_002dp"></a>
<p>Is <code class="code">x</code> the specification of a location function?
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aregister_002dclear_002dconfiguration_002dhook"></a><dl class="first-deffn">
<dt class="deffn" id="index-register_002dclear_002dconfiguration_002dhook"><span class="category-def">Function: </span><span><strong class="def-name">register-clear-configuration-hook</strong> <var class="def-var-arguments">hook-function &amp;optional  call-now-p</var><a class="copiable-link" href="#index-register_002dclear_002dconfiguration_002dhook"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aregister_002dclear_002dconfiguration_002dhook"></a>
<p>Register a function to be called when clearing configuration
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003areport_002dinvalid_002dform"></a><dl class="first-deffn">
<dt class="deffn" id="index-report_002dinvalid_002dform"><span class="category-def">Function: </span><span><strong class="def-name">report-invalid-form</strong> <var class="def-var-arguments">reporter &amp;rest  args</var><a class="copiable-link" href="#index-report_002dinvalid_002dform"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003areport_002dinvalid_002dform"></a>
<p>Report an invalid form according to <code class="code">reporter</code> and various <code class="code">args</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aresolve_002dabsolute_002dlocation"></a><dl class="first-deffn">
<dt class="deffn" id="index-resolve_002dabsolute_002dlocation"><span class="category-def">Function: </span><span><strong class="def-name">resolve-absolute-location</strong> <var class="def-var-arguments">x &amp;key  ensure-directory wilden</var><a class="copiable-link" href="#index-resolve_002dabsolute_002dlocation"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aresolve_002dabsolute_002dlocation"></a>
<p>Given a designator <code class="code">x</code> for an absolute location, resolve it to a pathname
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aresolve_002dlocation"></a><dl class="first-deffn">
<dt class="deffn" id="index-resolve_002dlocation"><span class="category-def">Function: </span><span><strong class="def-name">resolve-location</strong> <var class="def-var-arguments">x &amp;key  ensure-directory wilden directory</var><a class="copiable-link" href="#index-resolve_002dlocation"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aresolve_002dlocation"></a>
<p>Resolve location designator <code class="code">x</code> into a <code class="code">pathname</code>
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aresolve_002drelative_002dlocation"></a><dl class="first-deffn">
<dt class="deffn" id="index-resolve_002drelative_002dlocation"><span class="category-def">Function: </span><span><strong class="def-name">resolve-relative-location</strong> <var class="def-var-arguments">x &amp;key  ensure-directory wilden</var><a class="copiable-link" href="#index-resolve_002drelative_002dlocation"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aresolve_002drelative_002dlocation"></a>
<p>Given a designator <code class="code">x</code> for an relative location, resolve it to a pathname.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003asystem_002dconfig_002dpathnames"></a><dl class="first-deffn">
<dt class="deffn" id="index-system_002dconfig_002dpathnames"><span class="category-def">Function: </span><span><strong class="def-name">system-config-pathnames</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-system_002dconfig_002dpathnames"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003asystem_002dconfig_002dpathnames"></a>
<p>Return a list of directories where are stored the system’s default user configuration information.
<code class="code">more</code> may contain specifications for a subpath relative to these directories: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003asystem_002dconfiguration_002ddirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-system_002dconfiguration_002ddirectories"><span class="category-def">Function: </span><span><strong class="def-name">system-configuration-directories</strong><a class="copiable-link" href="#index-system_002dconfiguration_002ddirectories"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003asystem_002dconfiguration_002ddirectories"></a>
<p>Return the list of system configuration directories for common-lisp.
<code class="code">deprecated</code>. Use <code class="code">uiop:system-config-pathnames</code> (with argument "common-lisp"),
instead.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003auiop_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-uiop_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">uiop-directory</strong><a class="copiable-link" href="#index-uiop_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003auiop_002ddirectory"></a>
<p>Try to locate the <code class="code">uiop</code> source directory at runtime
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003aupgrade_002dconfiguration"></a><dl class="first-deffn">
<dt class="deffn" id="index-upgrade_002dconfiguration"><span class="category-def">Function: </span><span><strong class="def-name">upgrade-configuration</strong><a class="copiable-link" href="#index-upgrade_002dconfiguration"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003aupgrade_002dconfiguration"></a>
<p>If a previous version of ASDF failed to read some configuration, try again now.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003auser_002dconfiguration_002ddirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-user_002dconfiguration_002ddirectories"><span class="category-def">Function: </span><span><strong class="def-name">user-configuration-directories</strong><a class="copiable-link" href="#index-user_002dconfiguration_002ddirectories"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003auser_002dconfiguration_002ddirectories"></a>
<p>Return the current user’s list of user configuration directories
for configuring common-lisp.
<code class="code">deprecated</code>. Use <code class="code">uiop:xdg-config-pathnames</code> instead.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003avalidate_002dconfiguration_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-validate_002dconfiguration_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">validate-configuration-directory</strong> <var class="def-var-arguments">directory tag validator &amp;key  invalid-form-reporter</var><a class="copiable-link" href="#index-validate_002dconfiguration_002ddirectory"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003avalidate_002dconfiguration_002ddirectory"></a>
<p>Map the <code class="code">validator</code> across the .conf files in <code class="code">directory</code>, the <code class="code">tag</code> will
be applied to the results to yield a configuration form.  Current
values of <code class="code">tag</code> include :source-registry and :output-translations.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003avalidate_002dconfiguration_002dfile"></a><dl class="first-deffn">
<dt class="deffn" id="index-validate_002dconfiguration_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">validate-configuration-file</strong> <var class="def-var-arguments">file validator &amp;key  description</var><a class="copiable-link" href="#index-validate_002dconfiguration_002dfile"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003avalidate_002dconfiguration_002dfile"></a>
<p>Validate a configuration <code class="code">file</code>.  The configuration file should have only one s-expression
in it, which will be checked with the <code class="code">validator</code> <code class="code">form</code>.  <code class="code">description</code> argument used for error
reporting.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003avalidate_002dconfiguration_002dform"></a><dl class="first-deffn">
<dt class="deffn" id="index-validate_002dconfiguration_002dform"><span class="category-def">Function: </span><span><strong class="def-name">validate-configuration-form</strong> <var class="def-var-arguments">form tag directive-validator &amp;key  location invalid-form-reporter</var><a class="copiable-link" href="#index-validate_002dconfiguration_002dform"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003avalidate_002dconfiguration_002dform"></a>
<p>Validate a configuration <code class="code">form</code>. By default it will raise an error if the
<code class="code">form</code> is not valid.  Otherwise it will return the validated form.
     Arguments control the behavior:
     The configuration <code class="code">form</code> should be of the form (<code class="code">tag</code> . &lt;rest&gt;)
     Each element of &lt;rest&gt; will be checked by first seeing if it’s a configuration inheritance
directive (see <code class="code">configuration-inheritance-directive-p</code>) then invoking <code class="code">directive-validator</code>
on it.
     In the event of an invalid form, <code class="code">invalid-form-reporter</code> will be used to control
reporting (see <code class="code">report-invalid-form</code>) with <code class="code">location</code> providing information about where
the configuration form appeared.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002dcache_002dhome"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002dcache_002dhome"><span class="category-def">Function: </span><span><strong class="def-name">xdg-cache-home</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002dcache_002dhome"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002dcache_002dhome"></a>
<p>The base directory relative to which user specific non-essential data files should be stored.
Returns an absolute directory pathname.
<code class="code">more</code> may contain specifications for a subpath relative to this directory: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002dconfig_002ddirs"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002dconfig_002ddirs"><span class="category-def">Function: </span><span><strong class="def-name">xdg-config-dirs</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002dconfig_002ddirs"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002dconfig_002ddirs"></a>
<p>The preference-ordered set of additional base paths to search for configuration files.
Returns a list of absolute directory pathnames.
<code class="code">more</code> may contain specifications for a subpath relative to these directories:
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002dconfig_002dhome"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002dconfig_002dhome"><span class="category-def">Function: </span><span><strong class="def-name">xdg-config-home</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002dconfig_002dhome"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002dconfig_002dhome"></a>
<p>Returns a pathname for the directory containing user-specific configuration files.
<code class="code">more</code> may contain specifications for a subpath relative to this directory: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002dconfig_002dpathnames"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002dconfig_002dpathnames"><span class="category-def">Function: </span><span><strong class="def-name">xdg-config-pathnames</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002dconfig_002dpathnames"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002dconfig_002dpathnames"></a>
<p>Return a list of pathnames for application configuration.
<code class="code">more</code> may contain specifications for a subpath relative to these directories: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002ddata_002ddirs"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002ddata_002ddirs"><span class="category-def">Function: </span><span><strong class="def-name">xdg-data-dirs</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002ddata_002ddirs"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002ddata_002ddirs"></a>
<p>The preference-ordered set of additional paths to search for data files.
Returns a list of absolute directory pathnames.
<code class="code">more</code> may contain specifications for a subpath relative to these directories: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002ddata_002dhome"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002ddata_002dhome"><span class="category-def">Function: </span><span><strong class="def-name">xdg-data-home</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002ddata_002dhome"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002ddata_002dhome"></a>
<p>Returns an absolute pathname for the directory containing user-specific data files.
<code class="code">more</code> may contain specifications for a subpath relative to this directory: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002ddata_002dpathnames"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002ddata_002dpathnames"><span class="category-def">Function: </span><span><strong class="def-name">xdg-data-pathnames</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002ddata_002dpathnames"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002ddata_002dpathnames"></a>
<p>Return a list of absolute pathnames for application data directories.  With <code class="code">app</code>,
returns directory for data for that application, without <code class="code">app</code>, returns the set of directories
for storing all application configurations.
<code class="code">more</code> may contain specifications for a subpath relative to these directories: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fconfiguration_003axdg_002druntime_002ddir"></a><dl class="first-deffn">
<dt class="deffn" id="index-xdg_002druntime_002ddir"><span class="category-def">Function: </span><span><strong class="def-name">xdg-runtime-dir</strong> <var class="def-var-arguments">&amp;rest  more</var><a class="copiable-link" href="#index-xdg_002druntime_002ddir"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003axdg_002druntime_002ddir"></a>
<p>Pathname for user-specific non-essential runtime files and other file objects,
such as sockets, named pipes, etc.
Returns an absolute directory pathname.
<code class="code">more</code> may contain specifications for a subpath relative to this directory: a
subpathname specification and keyword arguments as per <code class="code">resolve-location</code> (see
also "Configuration DSL") in the ASDF manual.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fconfiguration_003a_002ahere_002ddirectory_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002ahere_002ddirectory_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*here-directory*</strong><a class="copiable-link" href="#index-_002ahere_002ddirectory_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003a_002ahere_002ddirectory_002a"></a>
<p>This special variable is bound to the currect directory during calls to
<code class="code">process-source-registry</code> in order that we be able to interpret the :here
directive.
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fconfiguration_003a_002aignored_002dconfiguration_002dform_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002aignored_002dconfiguration_002dform_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*ignored-configuration-form*</strong><a class="copiable-link" href="#index-_002aignored_002dconfiguration_002dform_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003a_002aignored_002dconfiguration_002dform_002a"></a>
<p>Have configuration forms been ignored while parsing the configuration?
</p></dd></dl>
<a class="anchor" id="Variable-uiop_002fconfiguration_003a_002auser_002dcache_002a"></a><dl class="first-defvr">
<dt class="defvr" id="index-_002auser_002dcache_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*user-cache*</strong><a class="copiable-link" href="#index-_002auser_002dcache_002a"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fconfiguration_003a_002auser_002dcache_002a"></a>
<p>A specification as per <code class="code">resolve-location</code> of where the user keeps his FASL cache
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fBACKWARD_002dDRIVER">
<div class="nav-panel">
<p>
Next: <a href="#UIOP_002fDRIVER" accesskey="n" rel="next">UIOP/DRIVER</a>, Previous: <a href="#UIOP_002fCONFIGURATION" accesskey="p" rel="prev">UIOP/CONFIGURATION</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fBACKWARD_002dDRIVER-1"><span>15 UIOP/BACKWARD-DRIVER<a class="copiable-link" href="#UIOP_002fBACKWARD_002dDRIVER-1"> ¶</a></span></h2>

<p><code class="code">uiop/backward-driver</code> provides backward-compatibility with
earlier incarnations of this library.
</p>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003acoerce_002dpathname"></a><dl class="first-deffn">
<dt class="deffn" id="index-coerce_002dpathname"><span class="category-def">Function: </span><span><strong class="def-name">coerce-pathname</strong> <var class="def-var-arguments">name &amp;key  type defaults</var><a class="copiable-link" href="#index-coerce_002dpathname"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003acoerce_002dpathname"></a>
<p><code class="code">deprecated</code>. Please use <code class="code">uiop:parse-unix-namestring</code> instead.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003ain_002dfirst_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-in_002dfirst_002ddirectory-1"><span class="category-def">Function: </span><span><strong class="def-name">in-first-directory</strong> <var class="def-var-arguments">dirs x &amp;key  direction</var><a class="copiable-link" href="#index-in_002dfirst_002ddirectory-1"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003ain_002dfirst_002ddirectory"></a>
<p>Finds the first appropriate file named <code class="code">x</code> in the list of <code class="code">dirs</code> for I/O
in <code class="code">direction</code> (which may be <code class="code">:input</code>, <code class="code">:output</code>, <code class="code">:io</code>, or <code class="code">:probe</code>).
If direction is <code class="code">:input</code> or <code class="code">:probe</code>, will return the first extant file named
<code class="code">x</code> in one of the <code class="code">dirs</code>.
If direction is <code class="code">:output</code> or <code class="code">:io</code>, will simply return the file named <code class="code">x</code> in the
first element of <code class="code">dirs</code> that exists. <code class="code">deprecated</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003ain_002dsystem_002dconfiguration_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-in_002dsystem_002dconfiguration_002ddirectory-1"><span class="category-def">Function: </span><span><strong class="def-name">in-system-configuration-directory</strong> <var class="def-var-arguments">x &amp;key  direction</var><a class="copiable-link" href="#index-in_002dsystem_002dconfiguration_002ddirectory-1"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003ain_002dsystem_002dconfiguration_002ddirectory"></a>
<p>Return the pathname for the file named <code class="code">x</code> under the system configuration directory
for common-lisp. <code class="code">deprecated</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003ain_002duser_002dconfiguration_002ddirectory"></a><dl class="first-deffn">
<dt class="deffn" id="index-in_002duser_002dconfiguration_002ddirectory-1"><span class="category-def">Function: </span><span><strong class="def-name">in-user-configuration-directory</strong> <var class="def-var-arguments">x &amp;key  direction</var><a class="copiable-link" href="#index-in_002duser_002dconfiguration_002ddirectory-1"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003ain_002duser_002dconfiguration_002ddirectory"></a>
<p>Return the file named <code class="code">x</code> in the user configuration directory for common-lisp.
<code class="code">deprecated</code>.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003asystem_002dconfiguration_002ddirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-system_002dconfiguration_002ddirectories-1"><span class="category-def">Function: </span><span><strong class="def-name">system-configuration-directories</strong><a class="copiable-link" href="#index-system_002dconfiguration_002ddirectories-1"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003asystem_002dconfiguration_002ddirectories"></a>
<p>Return the list of system configuration directories for common-lisp.
<code class="code">deprecated</code>. Use <code class="code">uiop:system-config-pathnames</code> (with argument "common-lisp"),
instead.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003auser_002dconfiguration_002ddirectories"></a><dl class="first-deffn">
<dt class="deffn" id="index-user_002dconfiguration_002ddirectories-1"><span class="category-def">Function: </span><span><strong class="def-name">user-configuration-directories</strong><a class="copiable-link" href="#index-user_002dconfiguration_002ddirectories-1"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003auser_002dconfiguration_002ddirectories"></a>
<p>Return the current user’s list of user configuration directories
for configuring common-lisp.
<code class="code">deprecated</code>. Use <code class="code">uiop:xdg-config-pathnames</code> instead.
</p></dd></dl>
<a class="anchor" id="Function-uiop_002fbackward_002ddriver_003aversion_002dcompatible_002dp"></a><dl class="first-deffn">
<dt class="deffn" id="index-version_002dcompatible_002dp"><span class="category-def">Function: </span><span><strong class="def-name">version-compatible-p</strong> <var class="def-var-arguments">provided-version required-version</var><a class="copiable-link" href="#index-version_002dcompatible_002dp"> ¶</a></span></dt>
<dd><a class="index-entry-id" id="index-uiop_002fbackward_002ddriver_003aversion_002dcompatible_002dp"></a>
<p>Is the provided version a compatible substitution for the required-version?
If major versions differ, it’s not compatible.
If they are equal, then any later version is compatible,
with later being determined by a lexicographical comparison of minor numbers.
<code class="code">deprecated</code>.
</p></dd></dl>

<hr>
</div>
<div class="chapter-level-extent" id="UIOP_002fDRIVER">
<div class="nav-panel">
<p>
Previous: <a href="#UIOP_002fBACKWARD_002dDRIVER" accesskey="p" rel="prev">UIOP/BACKWARD-DRIVER</a>, Up: <a href="#Top" accesskey="u" rel="up">UIOP</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<h2 class="chapter" id="UIOP_002fDRIVER-1"><span>16 UIOP/DRIVER<a class="copiable-link" href="#UIOP_002fDRIVER-1"> ¶</a></span></h2>

<p><code class="code">uiop/driver</code> doesn’t export any new symbols. It just exists to
reexport all the utilities in a single package <code class="code">uiop</code>.
</p>
</div>
</div>





</body></html>